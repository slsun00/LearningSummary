

## 文件目录

### 切入

```java
// cd  切入
 cd /home 进入 '/ home' 目录' 
 cd .. 返回上一级目录 
 cd ../.. 返回上两级目录 
 cd 进入个人的主目录 
 cd ~user1 进入个人的主目录 
 cd - 返回上次所在的目录
```

### 目录结构

```java
 ls 查看目录中的文件 
 ls -F 查看目录中的文件 
 ls -l 显示文件和目录的详细资料 
 ls -a 显示隐藏文件 
 ls *[0-9]* 显示包含数字的文件名和目录名 
     
 tree 显示文件和目录由根目录开始的树形结构
 lstree 显示文件和目录由根目录开始的树形结构
```

### 删除

```java
 rm -f file1 删除一个叫做 'file1' 的文件' 
 rmdir dir1 删除一个叫做 'dir1' 的目录' 
 rm -rf dir1 删除一个叫做 'dir1' 的目录并同时删除其内容 
 rm -rf dir1 dir2 同时删除两个目录及它们的内容 
```

### 创建

```java
 mkdir dir1 创建一个叫做 'dir1' 的目录' 
 mkdir dir1 dir2 同时创建两个目录 
 mkdir -p /tmp/dir1/dir2 创建一个目录树 
```

### 搜索

```java
find / -name file1 从 '/' 开始进入根文件系统搜索文件和目录 
 find / -user user1 搜索属于用户 'user1' 的文件和目录 
 find /home/user1 -name \*.bin 在目录 '/ home/user1' 中搜索带有'.bin' 结尾的文件 
 find /usr/bin -type f -atime +100 搜索在过去100天内未被使用过的执行文件 
 find /usr/bin -type f -mtime -10 搜索在10天内被创建或者修改过的文件 
 find / -name \*.rpm -exec chmod 755 '{}' \; 搜索以 '.rpm' 结尾的文件并定义其权限 
 find / -xdev -name \*.rpm 搜索以 '.rpm' 结尾的文件，忽略光驱、捷盘等可移动设备 
```



**文件和目录** 

 pwd 显示工作路径 



 mv dir1 new_dir 重命名/移动 一个目录 
 cp file1 file2 复制一个文件 
 cp dir/* . 复制一个目录下的所有文件到当前工作目录 
 cp -a /tmp/dir1 . 复制一个目录到当前工作目录 
 cp -a dir1 dir2 复制一个目录 

cp -r dir1 dir2 复制一个目录及子目录
 ln -s file1 lnk1 创建一个指向文件或目录的软链接 
 ln file1 lnk1 创建一个指向文件或目录的物理链接 
 touch -t 0712250000 file1 修改一个文件或目录的时间戳 - (YYMMDDhhmm) 
 file file1 outputs the mime type of the file as text 
 iconv -l 列出已知的编码 
 iconv -f fromEncoding -t toEncoding inputFile > outputFile creates a new from the given input file by assuming it is encoded in fromEncoding and converting it to toEncoding. 
 find . -maxdepth 1 -name *.jpg  -print -exec convert "{}" -resize 80x60 "thumbs/{}" \; batch resize  files in the current directory and send them to a thumbnails directory  (requires convert from Imagemagick) 



**文件搜索** 

 locate \*.ps 寻找以 '.ps' 结尾的文件 - 先运行 'updatedb' 命令 
 whereis halt 显示一个二进制文件、源码或man的位置 
 which halt 显示一个二进制文件或可执行文件的完整路径 









**文件的权限 - 使用 "+" 设置权限，使用 "-" 用于取消** 
 ls -lh 显示权限 
 ls /tmp | pr -T5 -W$COLUMNS 将终端划分成5栏显示 
 chmod ugo+rwx directory1 设置目录的所有人(u)、群组(g)以及其他人(o)以读（r ）、写(w)和执行(x)的权限 
 chmod go-rwx directory1 删除群组(g)与其他人(o)对目录的读写执行权限 
 chown user1 file1 改变一个文件的所有人属性 
 chown -R user1 directory1 改变一个目录的所有人属性并同时改变改目录下所有文件的属性 
 chgrp group1 file1 改变文件的群组 
 chown user1:group1 file1 改变一个文件的所有人和群组属性 
 find / -perm -u+s 罗列一个系统中所有使用了SUID控制的文件 
 chmod u+s /bin/file1 设置一个二进制文件的 SUID 位 - 运行该文件的用户也被赋予和所有者同样的权限 
 chmod u-s /bin/file1 禁用一个二进制文件的 SUID位 
 chmod g+s /home/public 设置一个目录的SGID 位 - 类似SUID ，不过这是针对目录的 
 chmod g-s /home/public 禁用一个目录的 SGID 位 
 chmod o+t /home/public 设置一个文件的 STIKY 位 - 只允许合法所有人删除文件 
 chmod o-t /home/public 禁用一个目录的 STIKY 位 



**文件的特殊属性 - 使用 "+" 设置权限，使用 "-" 用于取消** 
 chattr +a file1 只允许以追加方式读写文件 
 chattr +c file1 允许这个文件能被内核自动压缩/解压 
 chattr +d file1 在进行文件系统备份时，dump程序将忽略这个文件 
 chattr +i file1 设置成不可变的文件，不能被删除、修改、重命名或者链接 
 chattr +s file1 允许一个文件被安全地删除 
 chattr +S file1 一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘 
 chattr +u file1 若文件被删除，系统会允许你在以后恢复这个被删除的文件 
 lsattr 显示特殊的属性 