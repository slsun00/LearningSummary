## 介绍

```java
多活数据库
单活数据库
    
```



## 数据库自增长序列或字段 

### 介绍

```java
介绍
	利用数据库，全数据库唯一。
优点
	字ID天然排序，对分页或者需要排序的结果很有帮助。
    方便、快捷
缺点
	1 不同数据库语法和实现不同，数据库迁移的时候或多数据库版本支持的时候需要处理。
	2 在单个数据库或读写分离或一主多从的情况下，只有一个主库可以生成。有单点故障的风险。
	3 在性能达不到要求的情况下，比较难于扩展。
	4 如果遇见多个系统需要合并或者涉及到数据迁移会相当痛苦。
	5 分表分库的时候会有麻烦。
```

### 改善

```java
1）针对主库单点，
    如果有多个Master库，则每个Master库设置的起始数字不一样，步长一样，可以是Master的个数。
    比如：
    	Master1 生成的是 1，4，7，10，
   		Master2生成的是2,5,8,11 
    	Master3生成的是 3,6,9,12。
    	这样就可以有效生成集群中的唯一ID，也可以大大降低ID生成数据库操作的负载。
```

## UUID

### 介绍

```java
介绍
    可以利用数据库也可以利用程序生成，一般来说全球唯一
优点
    全球唯一，在遇见数据迁移，系统数据合并，或者数据库变更等情况下，可以从容应对
    生成ID性能非常好，基本不会有性能问题
缺点
    1）没有排序，无法保证趋势递增。
    2）UUID往往是使用字符串存储，查询的效率比较低。
    3）存储空间比较大，如果是海量数据库，就需要考虑存储量的问题。
    4）传输数据量大
    5）不可读。
```

## UUID to Int64

### 介绍

```java
介绍
    1. 解决UUID不可读，
    2. 了解决UUID无序的问题
```

## Redis生成ID

### 介绍

```java
介绍
    当使用数据库来生成ID性能不够要求的时候，我们可以尝试使用Redis来生成ID。
    这主要依赖于Redis是单线程的，所以也可以用生成全局唯一的ID。
    可以用Redis的原子操作 INCR和INCRBY来实现。
    
优点：
    1）不依赖于数据库，灵活方便，且性能优于数据库。
    2）数字ID天然排序，对分页或者需要排序的结果很有帮助。

缺点：
    1）如果系统中没有Redis，还需要引入新的组件，增加系统复杂度。
    2）需要编码和配置的工作量比较大。    
```

## snowflake算法 - Twitter





## left 分布式主键 - 美团