

## 介绍

```mysql
数据库管理  CURD
	C  create 创建
	U  update 修改
	R  retriee  查询
	D   delete 删除
	使用数据库



创建：create

修改：alter（修改的是结构，不是数据）

删除：drop 

新建/删除   if exists 新建存在不报错不新建，删除不存在不删除不报错
```

## 1.库的管理

### 创建

```mysql
// 注意你是在哪个端口登陆的
create database 库名； 	   #创建库，在data文件夹中，库名不能重复,


# 这个是容错性的，存在不创建，不存在就创建，不报错
create database if not exists 库名 [character set utf8]；   
```

### 修改(一般不用)

```mysql
介绍
	# 数据库一般不做修改，修改库会导致数据丢失，一般不用
	# 真要是改的话，停止服务器，改服务器存的data里的库文件夹的名称，然后再重启服务器
	
	
# 更改库的字符集
alter database 库名 character set 使用的字符集样式；
```

### 查询

```mysql
show databases ；

// 查询数据局创建的字符集
show create database 数据库名称；
```



### 删除

```mysql
drop database 库名；
drop database if exists 库名；#如果库存在，删除，不存在，也不报错
```

### 使用

```mysql
介绍
# 数据库切换等等， 就是当前库使用为指定库
use 库名；
```





## 2.表的管理

### 创建

```mysql
create table 表名(
	列名 列的类型,  # name varchar(20)
	列名 列的类型,  # id int
	...
	列名 列的类型[(长度)约束]   # 最后一行不需要逗号
)
```

### 删除

```mysql
# 不推荐使用， 有多少条及记录就会执行多少次删除操作
delete from 表名

# 先删除表， 再创建个一模一样的表
truncate table 表名；

# 
drop table 表名
drop table if exists 表名
```

### 修改

#### 表修改

```mysql
# 表名
alter table 表名 rename to 新表名

# 表字符集
alter table 表名 character set 字符集；
```

#### 列修改

```mysql
# 综述
alter table 表名 add|drop|modify|change column 列名 列类型  约束

# 列名称 + 类型
alter table 表名 change column 旧列名 新列名 新的列类型
alter table 表名 modify column 列名 类型 约束

# 添加列
alter table 表名 add column 新列名 类型 [first|after 指定字段名|默认last]

# 删除列
alter table 表名 drop column 列名称

```



#### 查看

```mysql
 # 查看当前库的所有表
show tables；            

 # 查看表结构
desc 表名；

select * from 表名   #查看表的内容
```

### 使用

复制

* 仅仅复制表的结构

    ```mysql
    create table 新表名 like 旧表名
    ```

* 复制表的结构+数据

    ```mysql
    create table 新表明
    select * from 旧表
    select 字段
    from 旧表
    where 筛选条件 
    ```

* 仅复制部分结构，部分数据

    ```mysql
    create table 新表明
    select 字段
    from 旧表
    where 1=2;
    # 条件是始终不会成立的，所以新建的表是只有 select里面的来自旧表的字段
    ```

