## 介绍

```mysql
执行顺序
7		select 查询条件（字段列表）	   			# 的 后面的
1		from 表                	   #   主体   
2		[join type] join 表2
3		on 连接条件
4		where 筛选条件				# 的 前面的
5		group by 分组字段
6		having 分组后的条件
8		order by 排序的字段
9		limit 起始条件索引，要显示的条目个数（显示的行数），  

#索引从0开始，0可以省略不写
#要显示的页数page,每页显示的条目数size limit （page-1*size size）
```



## 1. 基础查询

```mysql
select 查询列表 from 表名
select 查询列表 as 别名 from 表名
select distinct 查询列表 as 别名 from 表名 as 别名

# 查询的结果集，是一个虚拟表

# 查询列表
	表中字段、常量值、表达式、函数(这个就是挑选显示在虚拟表中的)
	可由多个部分组成，中间用逗号隔开
	
# as
	其起名
# distinct
	去重
	删除筛选出来的查询列表的重复值
	查询列表是多个字段的时候，不会报错，但是不同人貌似运行出来不一样，这个需要自己尝试
```

### 查询列表

#### 字段

```mysql
# 多个字段
select 字段名1，字段名2，... from 表名；

# 所有字段
select * from 表名；

```

#### 常量值

```mysql
# 1. 字符型和日期型的 :单引号引起来
	select 'john'
# 2. 数值型不需要
	select 100
```

#### 表达式

```mysql
select 100%98;

# 字段拼接
select xing+ming as "姓名" #就会将两个字段 xing 和 ming 拼接成一个新的字段 ：姓名
```

#### 函数

```go
select version();    #调用函数执行的返回值
```

### 去重

```mysql
# 对结果进行去重处理

关键字
	distinct
语法例子
	# 多个字段去重， 必须是所有的字段都是相同的
	select address name from student;
```



### 起别名

*   如果查询的字段有重名的情况，使用别名可以区别开来

*   起别名后，查询出来的结果就用别名显示了

    ```mysql
    # 字段查询
    Select 字段名1 as 别名1， 字段名2 as 别名2， ...  from 表名
    
       	
    # 3 空格替代 as	
       可以直接使用空格代替as，但是数量太多了，就不要用了，容易混淆
       
    # 4 含有特殊字符
       别名中含有特殊字符的，使用双引号引起来，当值出现歧义
    
    # 5.别名可以用 双引号 、 单引号 、什么也不加
       
    ```
### + 号作用

```mysql
# mysql 中只有一个作用——运算符

1.两个操作数都是数值型，则进行加法运算
		select 100+90;
		
2.一个操作数是数值型，一个是字符型，则会试图转换字符型到数值型
	如果成功，则执行加法运算
	select '100'+90;
	如果失败，则将字符型数值转化为 0
	
3.一方为 null,结果肯定是 null
	select null+0;
```

### 拼接

```mysql
select contact(字段1,字段2，...)[as 别名]   #常搭配起别名一起使用
	字段可以是字段，可以是其他的类型符号
	注意字段中有一个是 null ,拼接出来的就是 null ,注意使用 ifnull
```

### null

```mysql
# 特别注意null这个项

ifnull(值为null的字段或表达式，替换null的值)  #是null返回指定的值，不是null,返回自身值
	
	null +/and 另一个值，结果就是null
```

### 查找索引

```mysql
show index from stuinfo # 查询列表的所有索引
```

### 常用技巧

```mysql
1. 查看表结构
	desc 表名;
	show columns from employees;
```



## 2. 条件查询

```mysql
3.    select 查询列表 
1.    from 表名
2.    where 筛选条件；
# 选出表中符合筛选条件的查询列表

```

### 1.条件为函数

```mysql
select 函数名字(实参列表) [from 表名]


特点：
	叫什么：函数名
	做什么：函数功能
函数分类
    单行函数：
    分组函数：
		 又叫统计函数、聚合函数、组函数
		 统计使用
```



### 2.按条件运算

```mysql
# 条件运算符  
	> < =   >=  <=
	<> !=    都是不等于，不建议使用 !=
1.查询列表可以是多个，同时筛选条件可以是一个或者多个
2. 
	= 		只能判断普通内容
	is		只能判断null
	<=>		安全等于，即能判断普通内容也能判断 null （不常用）
	 
```

### 2.逻辑运算

```mysql
# 逻辑运算符  
	&&  	||  	！  
	and  	or   	not  # 不建议使用

# 1. 用于连接条件表达式

select  name,salary from employees where salary>100 and salary<900;
选出 name 和 salary 中salary>100 and salary<900的

# 2. &&  和   and  :与，两个条件均为true，结果为true

||   和   or     :或，两条件一个为真，则结果为真

！    和   not  :非，输出相反结果，本身为true,结果为false;本身为false,结果为true
```

### 判空

```mysql
salar is null;  #选出工资是零的

1.= 或 <>  不能用于判断 null
2.is null 和 is not null 仅可以判断 null
3.安全等于   <=>  （就是 ==,判断是否等于） ，可以判断null，也可以判断其他值

salary <=> null;
salary <=> 1200;
```



### 3.模糊包含

#### like 

```mysql
name like '%a%';   # 选出  包含 任意个 a 的 name,其前后都是任意个字符
name not like '%a%'
1.通常和通配符联合使用，对字符型数据进行部分匹配查询
2.可以搭配出来 开头、结尾、某个位置的字符


占位符
	% 零个或多个未知字符
	_ 一个未知字符
```



#### between and 

```mysql
id  between 100 and 30 ；
id not between 100 and 30 ；

1.包含两边的值，区间是[30,100],

2.两个值放置顺序顺序固定，左大右小

3.两个值类型要一致
```

#### in  

```mysql
id in ('IT','AD')  # 选出 id 中为 IT 、AD 的
id not in ('IT','AD')
1.判断某字段的值是否属于in列表中的某一项（可以理解为 =）
2.提高语句简洁度
3.不支持通配符
```

## 3.排序查询

```mysql
select 查询列表 
from 表 
[where 筛选条件]
order by 排序列表/字段  asc|desc

1.  asc  升序    默认：升序
	desc 降序 
2. 排序列表：单个字段、多个字段、表达式、函数、别名，一般在最后，limit字句除外
3. 多个字段排序规则，类似多级关键词， 当前边的值一样的时候，才会判断第二个条件

order by  salary asc , employee_id desc; #先按照salary排序，然后按照emplyee_id排序
```

## 4.分组函数

```mysql
select 分组函数,分组列表1，分组列表2 from  表名
group by 分组列表1，分组列表2  # 将两个列表（分组字段）都一样的合并到一组，多个字段没有顺序要求
[having 分组后的筛选]

#-------------------------------------------------------

注意：
1.要求查询列表特殊，要求是分组函数和group by后出现的字段
2.having 和 group by 后面很少用别名，麻烦
3.记住最后加分号，
4.分组查询分为两类：分组前筛选、分组后筛选

# where 筛选， 进行分组， haing 筛选
            数据源          位置                关键词
  分组前筛选：原始表         group by子句前面     where
  分组后筛选：分组后的结果表  group by子句后面      having
  
  分组函数
  	可以在 having 中
  	不可以使用在 where 中
  
  分组函数做条件，肯定是在 having 中
```

*   例子

    ```mysql
    例子：
    按照员工姓名的长度分组，查询每一组的员工个数，筛选员工个数>5的有哪些
    
    select count(*) length(last_name) len_name
    from employees
    group by len_name
    having count>5;
    
    思路：
    1.尽快读懂题意的方法就是把那个表格的表头画出来，都需要显示什么，可以尽快读懂题意
    2.各个、每个；这类的题眼就是分组的依据
    3.分清数据源，然后就是筛选的关键词用在哪里，分清条件用在哪里、
    ```



## 7. 分页查询

```mysql
#  limit 是方言

用途
	现实的数据，一页显示不全，分页提交sql请
特点
	limit  语句放在查询语句的最后
	是方言
语法
	limit 起始条件索引，每页要显示的条目个数（显示的行数），  
    #索引从0开始，0可以省略不写
    # 查询的那一页的开始索引 = （page-1)*size
```

