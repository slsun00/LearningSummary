## 视图

### 介绍

*   mysql5.1版本出现的新特性，和普通的表一样使用，本身是一个虚拟表，它的数据来自表，是动态生成的，只保留了sql逻辑，不保存查询结果。

### 2.应用场景

* 多个地方用到同样的查询结果
* 该查询结果使用的sql语句比较复杂

### 3.使用

```mysql
#就相当于函数的封装，可以调用函数的思想，达到代码复用 
#最大作用就是查询，更新太麻烦，直接再写一个就行了


#1.创建
    create view 视图名 as 视图内部的代码（查询语句）
#2.调用
    select * from 视图名 # *是指视图中包含的字段
    select 视图名.'视图中的字段名' from 视图名

#3.修改
    #方式一
        create or replace view 视图名 as 视图语句 #视图存在就修改，不存在就创建
    #方式二
        alter view 视图名

#4.删除
    drop view 视图名，视图名，视图名...

#5.查看
    #方式一
        desc 视图名
    #方式二
        show create view 视图名\G #格式化查出来的视图创建过程

#6更新
    #创建账号需要权限,主要是用来查询用的
    #视图是一个虚拟表，增删改查和表是一样的操作，只不过表名变成1视图名（虚拟表名称），但是直接更改会影响原始数据的。基本上都是不能更新的,对其更新也不能机械理解为对原始表的更新
    
#7不能进行更新的
    1.分组函数、distinct、group by、having、union、union all
    2.join
    3.常量视图
    4.where后的子查询用到了from中的表
    5.用到了不可更新的视图
```

### 4.特点

* 重用sql语句，简化了操作
* 把封装的视图当成一个新的表，很多子查询可以使用视图代替
* 注意注释，容易忘记查询的功能



### 5.对比

|                  | 视图            | 表           |
| ---------------- | --------------- | ------------ |
| 创建关键字       | create view     | create table |
| 实际占用物理空间 | 只保存了sql逻辑 | 保存了数据   |
| 使用             | 一般只做查询用  | 增删改查     |

