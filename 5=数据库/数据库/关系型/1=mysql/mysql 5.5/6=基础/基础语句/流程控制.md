## 7.流程控制结构

* 三种结构可以参考学习编程（Java go等）基础的学习。
* 只写怎么应用，

### 1.顺序结构

### 2.分支结构

#### 1.if 函数

```mysql
if( 条件，条件为真输出结果，条件为假输出结果 )
任何地方
```

#### 2.if 结构

```mysql
elseif 条件2 then 语句2；
[else 语句n;]
end if ;

注意：
1.应用在begin end 中 
```

#### 2.case

```mysql
# 方式一
    # 类型Java中的 switch case 语句，一般用于实现等值判断
    case  要判断的式子    			 # 变量|表达式|字段
    when 要判断的值 then 返回的值或语句； # 要显示的
    when 要判断的值 then 返回的值或语句； # 要显示的
    ...
    else 要返回的值或语句
    end case; # 可以使用 end as 别名
    




# 方式二
    # 类似Java中的多重 if 语句，一般用于实现区间判断
    case 
    when 要判断的条件 then 返回的值或语句；
    when 要判断的条件 then 返回的值或语句；
    ...
    else 要返回的值或语句;
    end case;  # end  as 别名

特点
    1.可作为表达式，嵌套在其他语句中，可以放在任意的位置
    2.作为独立的语句使用，只能放在 begin end中
    3.若when中的值满足或者成立，则执行对应的then后的语句，并结束case
    4.else可以省略，若省略了，并且所有的when条件都不满足，则返回null	
    5.注意case中是不要分号的，但是select后的字段需要逗号
    
例子：
    select salary,
    case salary >1000 then 'a'
    else 'd'
    end as 新工资
```



### 3.循环结构

#### 1.分类

```mysql
# 循环结构
	while loop repeat

# 循环控制
    iterate 类似于 continue ，继续，结束本次循环，进行下一个
    leave 类似于 break ，结束当前的循环
```

#### 2.while 

```mysql
[标签：]while 循环条件 do 
	循环体
end while [标签]；

```

#### 3.loop

```mysql
[标签：] loop
	循环体
end loop [标签]；

1.用来模拟简单的死循环
```

#### 4.repeat

```mysql
[语法：] repeat
	循环体
until 循环结束条件
end if [标签]； 
```

#### 5.使用例子

```mysql
案例：批量插入，根据次数插入到admin中多条记录
delimiter $
create procedure pro_while1(in insertCount int)
begin 
	declare i int default 1;
	a:while i<=insertCount Do
		insert into admin(name,word)
		values(concat('lili',i),'111');
		if i>=20 then leave a;
		end if;
		set i=i+1;
	end while a;
end $
```

## 8. 触发器

需要补充

# 参考