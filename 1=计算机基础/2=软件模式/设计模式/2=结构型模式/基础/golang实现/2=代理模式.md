## 介绍

*   火车站卖火车票
    *   人太多了，都挤在火车站不行，所以为了散开火车站的买票压力，就设置代理点
*   代理点也进行售票 
    *   通过代理点可以访问火车站的车票，不过其不屯票

*   人们可以不用去火车站，在代理店就可以买票



```go
package main

import "fmt"

// 买票接口

type Ticket interface {
	SellTicket(name string)
}

// 火车站实现卖票
type Station struct {
	socket int // 库存
}

func (s *Station) SellTicket(name string) {
	if s.socket > 0 {
		s.socket--
		fmt.Printf("火车站卖了一张火车票给 %s \n", name)
	} else {
		fmt.Println("票已经售空")
	}
}

// 火车站代理点收票
type StationProxy struct {
	station *Station // 持有一个火车站对象，通过代理点也可以买到火车票
}

func (sp *StationProxy) SellTicket(name string) {

	if sp.station.socket > 0 {
		sp.station.socket--
		fmt.Printf("代理点卖给 %s 一张票\n", name)
	} else {
		fmt.Println("代理点没有票了，其代理的火车站也没票了")
	}
}

func main() {
	station := &Station{3}
	proxy := &StationProxy{station}
	station.SellTicket("小画")
	station.SellTicket("小华")
	proxy.SellTicket("小明")
	proxy.SellTicket("小店")
}

```



