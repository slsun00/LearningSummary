## 案例一

### 中介

```java
// interface
public abstract class Mediator {
    public abstract void constact(String message, Person person);
}

// class
public class ConcreteMediator {
    private HouseOwner houseOwner;
    private Tenant tenant;
    // get set 方法省略
    
    // 房东和租房者获取信息
    public void constact(String message, Person person) {
        if (Person == houseOwner) {  // 房东，得到租客信息
            tenant.getMessage(message);            
        } if (Person == tenant) {    // 租客， 获取房东信息
            houseOwner.getMessage(message);
        }
    }
}
```



### 同事

```java
// interface
public abstract class Person {
    protected String name;
    protected Mediator mediator;
    
    public Person(String name, Mediator mediator) {
        this.name = name;
        this.mediator = mediator;
    }       
}

// class 
public class HouseOwner extends Person{
    HousrOwner(String name, Mediator mediator) {
        super(name, mediator);
    }
    
    // 联系中介者
    public void constact(String name) {
        mediator.constact(message, this);
    }
    
    public void getMessage(String message) {
        System.out.println("租房者" + name +"获取到的信息：" + message);
    }
}


public class Tennant extends Person {
    Tennant(String name, Mediator mediator) {
        super(name, mediator);
    }
    
    // 联系中介者
    public void contact(String message) {
        mediator.contact(message, this);
    }
    
    //获取信息
    public void getMessage(String message){
        System.out.println("租房者" + name +"获取到的信息：" + message);
    }
}
```

### 测试

```java
public class Main {
    public static void main(String[] args) {
        // 中介者
        ConcreteMediator mediator = new ConcreteMediator();
        
        // 租房者和买房者， 同时指定中介者
        HouseOwner owner = new HouseOwner("张三"， mediator);
        Tenant tenant = new tenant("张三"， mediator);
        
        // 中介设置内嵌的同事类
        mediator.setHouseOwner(owner);
        mediator.setTenant(tenant);
        
        // 房东和租客进行信息交互， 但是 两个类的通信逻辑 是在 中介者内部执行的
        tenant.constact("需要租三室的房子");
        owner.constact("我这有三室的房子，你需要租吗？");
         
    }
}
```

