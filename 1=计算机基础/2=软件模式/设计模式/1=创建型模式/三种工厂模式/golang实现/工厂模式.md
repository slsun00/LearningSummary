## 介绍

*   在简单工厂的基础上
*   实现工厂作用单一：一个工厂只生产一个产品

## demo

*   现在要生产两种手机 ：小米手机、华为手机

*   这两种手机分别有两个手机工厂专配生产

    *   小米手机厂 ：只生产小米手机、
    *   华为手机厂 ：只生产华为手机
    
    ```go
    
    
    type Phone interface {
    	call()
    }
    
    type Xiaomi struct {
    	message string
    }
    
    func (x *Xiaomi) call() {
    	x.message = "小米手机"
    	fmt.Println(x.message)
    }
    
    type Huawei struct {
    	message string
    }
    
    func (h *Huawei) call() {
    	h.message = "华为手机"
    	fmt.Println(h.message)
    }
    
    // 工厂抽象类
    type Factory interface {
    	createPhone() Phone
    }
    
    // xiaomi phone factory :xpfactory
    type Xpfactory struct{}
    
    // 小米手机加工厂，生产小米手机
    func (x *Xpfactory) createPhone() Phone {
    	return &Xiaomi{}
    }
    
    // huawei phone factory :Hpfactory
    type Hpfactory struct{}
    
    // 华为手机加工厂，生产华为手机
    func (h *Hpfactory) createPhone() Phone {
    	return &Huawei{}
    }
    
    // 构造函数,创建(实例化)不同的工厂
    func NewFactory(name string) Factory {
    	switch name {
    	case "huawei":
    		return &Hpfactory{}
    	case "xiaomi":
    		return &Xpfactory{}
    	}
    	return nil
    }
    
    func main() {
    	// 创建不同的工厂
    	factory := NewFactory("xiaomi")
    	// 工厂生产对应的产品
    	xiaoPhone := factory.createPhone()
    	// 产品调用响应的方法
    	xiaoPhone.call() // 小米手机
    
}
    
    ```
    
    