## 介绍

*   有两家公司 ： 华为 、 小米
*   小米公司有一个产品族： 小米手机 、 小米手表
    *   小米公司有一个专门的工厂生产这两个东西
*   华为公司有一个产品族： 华为手机 、 华为手表
    *   华为公司有一个专门的工厂生产这两个东西



## demo

```go

type Phone interface {
	call()
}

type XiaoPhone struct {
	message string
}

func (x *XiaoPhone) call() {
	x.message = "小米手机"
	fmt.Println(x.message)
}

type HuaPhone struct {
	message string
}

func (h *HuaPhone) call() {
	h.message = "华为手机"
	fmt.Println(h.message)
}

type Watch interface {
	ring()
}

type XiaoWatch struct {
	message string
}

func (x *XiaoWatch) ring() {
	x.message = "叮叮叮"
	fmt.Println(x.message)
}

type HuaWatch struct {
	message string
}

func (h *HuaWatch) ring() {
	h.message = "哒哒哒"
	fmt.Println(h.message)
}

// 进入工厂

type Factory interface {
	CreatePhone() Phone
	CreateWatch() Watch
}

// 小米公司的工厂

type XiaoFactory struct{}

func (x *XiaoFactory) CreatePhone() Phone {
	return &XiaoPhone{}
}

func (x *XiaoFactory) CreateWatch() Watch {
	return &XiaoWatch{}
}

// 华为的工厂

type HuaFactory struct{}

func (h *HuaFactory) CreatePhone() Phone {
	return &XiaoPhone{}
}

func (h *HuaFactory) CreateWatch() Watch {
	return &HuaWatch{}
}

// 实例化工厂
func NewFactory(name string) Factory {
	switch name {
	case "huawei":
		return &HuaFactory{}
	case "xiaomi":
		return &XiaoFactory{}
	default:
		fmt.Println("工厂实例化失败")
	}
	return nil
}

func main() {
	// 创建具体的工厂
	factory := NewFactory("xiaomi")
	// 工厂创建具体的产品
	xiaoPhone := factory.CreatePhone()
	xiaoPhone.call() // 小米手机
	xiaoWatch := factory.CreateWatch()
	xiaoWatch.ring() //叮叮叮
}

```

