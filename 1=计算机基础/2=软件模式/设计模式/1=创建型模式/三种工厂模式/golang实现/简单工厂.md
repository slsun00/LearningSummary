## 介绍

*   一个工厂生产所有的产品
*   根据参数选择生产哪一种

## 例子

*   有两种手机： 小米手机、华为手机
*   由同一个代工厂加工两种手机
*   你只用告诉工厂你需要哪一种手机，他就生产哪一种手机

```go

type Phone interface {
	call()
}

type Xiaomi struct {
	message string
}

func (x *Xiaomi) call() {
	x.message = "小米手机"
	fmt.Println(x.message)
}

type Huawei struct {
	message string
}

func (h *Huawei) call() {
	h.message = "华为手机"
	fmt.Println(h.message)
}

type Factory struct{}

// 初始化一个工厂，推荐这样初始化 ，相当于 new(Factory{})
func NewFactory() *Factory {
	return &Factory{}
}

// 工厂根据不同的参数选择实例化（生产）不同的手机
func (f *Factory) BuildPhone(name string) Phone {
	switch name {
	case "xiaomi":
		return &Xiaomi{} // 在此出实例化 xiaomi 手机， == new(Xiaomi{})
	case "huawei":
		return &Huawei{} // 在此处实例化 huawie 手机 == new(Huawei{})
	default:
		fmt.Println("参数错误")
	}
	return nil
}

func main() {
	// 创建工厂
	factory := NewFactory()
	// 工厂根据参数生产手机
	xiaomiphone := factory.BuildPhone("xiaomi")
	// 手机调用其相关到的方法
	xiaomiphone.call() // 小米手机
}

```

