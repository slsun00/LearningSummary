## 线索二叉树	

*   介绍
    *   加上线索的二叉树
    *   threaded binary tree
*   是孩子表示法的扩展
    
*   概念
    *   线索  ：  指向前驱和后继的指针
    *   线索链表   ： 加上线索的二叉链表（线索二叉树）
    *   线索化 
        *   将二叉链表中节点的空链域存放其前驱或后继信息的过程 （以某种次序遍历）
        *   将其变成满二叉树，然后利用满二叉树进行设置遍历，如果遍历到特殊符号，就直接指向下一个节点
*   分类
    *   二叉树的遍历方式有 4  中，所以有 4 种意义下的前驱和后继，相应有 4 种线索二叉树
    *   前序线索二叉树、中序线索二叉树、后续线索二叉树、层序遍历二叉树
*   存储密度

    *    指的是数据本身所占的存储空间和整个结点结构所占的存储量之比。 

### 单线索二叉树

*   应用

    *   所用二叉树需要经常遍历或查找结点时，需要某种遍历序列中的前驱和后继，采用线索二叉树
    *   在遍历的同时，使用二叉树中空闲的内存空间记录某些结点的前趋和后继元素的位置（不是全部）。这样在算法后期需要遍历二叉树时，就可以利用保存的结点信息，提高了遍历的效率。 

*   实质

    *   将树改成了一个双向链表，同时解决直接添加两个前驱和后继指针会降低存储密度的问题
    *   用于叶子没有后继元素，解决空指针问题，降低空间浪费
    *   线索化就是遍历过程修改空指针的过程

*   结点设置

    ![1598080633509](1598080633509-1603322800523.png)

    ```go
    type node struct {
        lchild
        rchild
        data
        rtag
        ltag
    }
    
       ltag  = 0 ,指向该节点的左孩子 ， ltag  = 1 指向该节点的前驱
       rtag  = 0 ,指向该节点的右孩子 ， rtag  = 1 指向该节点的后继
    ```

    

![1598080949806](1598080949806-1603322800525.png)



### 

### 双线索二叉树

*    可以让线索二叉树从两个方向实现遍历 

*    线索二叉树的基础上，额外添加一个结点 

     *   作用 ：  
         *   类似于链表中的头指针，数据域不起作用 
         *   可以从第一个结点通过不断地找后继结点进行遍历，也可从最后一个结点通过不断找前趋结点进行遍历。  
     *   左指针域 ： 指向二叉树的树根，确保可以正方向对二叉树进行遍历 
     *   右指针域 ： 指向线索二叉树形成的线性序列中的最后一个结点。 

 *    遍历

        * 正向遍历
         * 逆向遍历

       ![1598109410091](1598109410091-1603322800525.png)



## 中序遍历操作

### 结构

```go
type TreeNode struct {
    lchild *TreeNode
    rchild *TreeNode
    data interface{}
    rtag int
    ltag int
}
}
```





### 创建

```go
// 实质上是将二叉树链表中的空指针改为指向前驱或后机密的线索，而前驱或后继的信息只有在遍历该二叉树时才知道
建立二叉链表 -- 遍历二叉树，将空指针改为线索
```





















































































