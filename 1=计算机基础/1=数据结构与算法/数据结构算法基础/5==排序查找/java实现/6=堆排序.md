## 堆排序

```java
public class head {
    public void sort (int[] arr) {
        
        // 数组的最大下标
        int headMaxIndex = arr.length-1;
        
        // 最后一个非叶子结点开始循环
        // 调整为有序堆
        for (int i = (arr.length)>>1-1; i>=0; i--) {
            adjustMaxHead(arr, i, headMaxIndex);
        }
        
        // 进行排序，同时还要调整
        for (int i = (arr.length)>>1-1; i>0; i--) {
            swap(arr, 0, i);
            adjustMaxHead(arr, i, headMaxIndex--);
        }
        
    }
    
    public void adjustMaxhead(int[] arr, int parent, int headMaxIndex) {
        int largest = parent;			// 父节点
        int left = 2 * parent + 1;       // 左孩子
        int right = 2 * parent + 2;      // 右孩子
        
        // 左孩子大，注意使用的是 largest ，比较之后，还可以进行 left 进行比较
        if ( left < headMaxIndex && arr[left] > arr[largest]) {
            largest = left;
        }
        
        // 右孩子存在
        if ( right < headMaxIndex && arr[right] > arr[largest]) {
            largest = right
        }
        
        if (largest != parent) {
            swap(int[], largest, parent);
            adjustMaxHead(arr, largest, headMaxIndex)
        }
    }
    
    public void swap(int[] arr, int largest, int parent) {
        int temp = arr[largest];
        arr[largest] = arr[parent];
        arr[parent] = temp;
    }
}
```

