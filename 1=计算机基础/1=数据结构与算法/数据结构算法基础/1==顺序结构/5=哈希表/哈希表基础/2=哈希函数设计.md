## 哈希函数设计

### 方法类型

*   直接定址

*   除留余数

*   数字分析

*   平方取中

*   折叠

*   取随机数

    

    

    

### 直接定址

```go
// 概念
	取关键字或关键字的某个线性函数值为散列地址
	即 H(key) = a X key + b (a,b 为常数)

// 例子
	关键码集合 {10 ，30 ， 50 ， 70 ， 80 ， 90} ，使用哈希函数 H(key) = key/10
	散列表为
		0	1	2	3	4	5	6	7	8	9
			10		30		50		70	80	90
// 应用
事先知道关键码，关键码集合不是很大且连续性较好
```



### 除留余数法

```go
// 取关键字被某个不大于散列表的表长 n 的数 m 除后所得的余数 p 为散列地址
H(key) = key mod p 

数据元素的个数 
哈希表长度 p 选取略比该数大略大的指数，可以有效避免哈希冲突

a = { 78 , 7 , 99 , 13 , 25 , 53 , 59 , 30 }  取 11 不会冲突，但是取 9 就会发生冲突
// 常用的，并且不要求事先知道关键码分布
```



### 数字分析法

```go
通过对数据的分析，发现数据中冲突较少的部分，
	如同学们的学号，通常同一届学生的学号，其中前面的部分差别不太大，所以用后面的部分来构造散列地址。

// 适用
预先估计出全部关键码的每一位上各种数字出现的频度，以不同关键码集合需要重新分析
```

### 平方取中法

```go
// 概念
	先求出关键字的平方值，然后按需要取平方值的中间几位作为散列地址
// 原因
	计算平方之后的中间几位和关键字中的每一位都相关，所以不同的关键字会以较高的概率产生不同的散列地址。
// 例子
	散列地址为 2 位 ， 关键码 1234 的散列地址 取 （1234）^ 2 = 1522756 可以去中间的 27
	
// 适用
	事先不知道关键码的分布且关键码的位数不是很大：乘法很消耗时间
```

### 折叠法

```go
// 概念
	将关键码从左到右分割成位数相等的几部分，然后将这几部分叠加求和，取后几位作为哈希地址

// 例子
	关键码 2 5 3 4 6 3 5 8 7 0 5 ，散列地址为三位 
移位叠加 ： 取右边三位作为散列地址
	2 5 3 
	4 6 3 
	5 8 7 
	+ 0 5
   --------
   1 3 0 8

间界叠加  ： 取右边三位作为散列地址
	2 5 3	顺序是正的
	3 6 4	顺序是反的
	5 8 7	顺序是正的
 +     5 0	顺序是反的
--------------
   1 2 5 4

// 应用
	关键码位数很多，实现不知道关键码的分布
```



### 取随机数

```go
// 概念
	使用一个随机函数，取关键字的随机值作为散列地址，
// 适用
	这种方式通常用于关键字长度不同的场合
```

