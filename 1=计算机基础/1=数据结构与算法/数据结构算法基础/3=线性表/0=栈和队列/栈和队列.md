-   8086 CPU 中的数据

## 字节 

-   byte
-   一个字节由 8 个 bit 组成，存在 8 位寄存器中

## 字单元

-   概念

    -   存放一个字型数据（16 位）的内存单元，
    -   由（任意）两个连续的内存单元组成：高地址内存单元 + 低地址内存单元

-   特点

    -   内存存储时。内存单元是字节单元（一个单元存放一个字节）
    -   长度 ：内存单元  = 字节单元 = 字单元 X 0.5

-   术语

    ```go
    x 1N 的字节单元 = N 地址字单元  （N 是单元起始地址）2// 例子3    一个字单元有 2 、3 两个内存单元组成，这个字单元的起始地址为 2 。即说 这是 2 地址字单元 4​5​6N 地址单元  : 地址为 N 的那个字节单元（没说什么单元就是字节单元）7N 地址字单元 ： 起始地址为 N 的那个字单元8​9地址单元 = 内存单元  = 字节单元 = 字单元 X 0.510地址字单元 = 字单元go
    ```

## 字

### 基础

-   word 

    ```go
    xxxxxxxxxx4 1// 一些术语2高字节 = 高位字节 = 高位 放在 高地址单元 ， 高位字节单元3低字节 = 低位字节 = 地位 放在 低地址单元 ， 地位字节单元4​go
    ```

​     

### 字的存放

-   一个字由两个地址连续的字节组成 ， 两个自己和分别称为高字节 、低字节
    -   高位字节 ：放在高地址单元
    -   低位字节 ： 放在低地址单元

![image-20201005225914251](image-20201005225914251.png)



### 字的传送

## 代码段

## 段地址

-   就是编程根据需要，将若干连续的内存单元看做一个段

-   本质

    ```go
    xxxxxxxxxx8 1//  段地址 X 16 = 基础地址2//  物理地址 = 基础地址 + 偏移地址3​4基础地址 ： 段的起始地址，用 段地址 X 165偏移地址 ： 定位段中的内存单元6​7// 打个简单的比方 ： 10 - 19 都是属于 10这个数据段的，十位数是 1 ，16 中的 6 定位8地址 10000H - 100FFH 的内存单元组成一个段，改短的起始地址(基础地址)为 10000H ，段地址为1000H 大小为 100Hgo
    ```

    

### 段地址 X 16 

-   就是左移 4 位
-   因为一个数据二进制形式左移 N 位，就相当于该数据乘以 2 的 N 次方



### 相关计算

#### 确定物理地址

-   不同的段地址和偏移地址组合可以得出相同的物理内存地址

    ```go
    xxxxxxxxxx4 1物理地址    段地址     偏移地址221F60H      2000H      1F60H3           2100H       0F60H4           21F0H       0060Hgo
    ```

    



#### 寻址定内存单元

```go
xxxxxxxxxx4 1// 给定一个段地址，仅通过偏移地址来寻址，最多可定义的内存单元数2    偏移地址 16 位，变化范围 0 - FFFFH ，最多 64KB3// 正常计算4    段地址 1000H  ：须知范围 10000H - 1FFFFHgo
```



## 数据段

### 概念

-   根据需要讲一组内存单元定义为一个段
-   将一组长度为 N ( N≤ 64KB ) 、 地址连续 、起始地址为 16 倍数的内存单元 ， 这个空间专门用于存储数据，就定义了一个数据段

### 访问数据段

-   把内存当成数据段，只是一种安排
-   具体操作，用 ds 存放数据段的段地址，再根据需要，用相关指令你访问数据段中的具体单元



## 栈段

## 栈

### 概念

-   参看数据结构和算法 的 《栈和队列》 

     [栈和队列.md](..\..\..\..\数据结构与算法\数据结构算法基础\s5_栈和队列\栈和队列.md) 

### 操作

```go
xxxxxxxxxx19 1// 8086CPU 的栈操作都是以 字 为单位进行的2// 栈顶到底 ：内存地址依次增大 ，3​4push ax  // 将寄存求 ax 中的数据送入栈中5    1. sp = sp -2 （字操作，指向下一位）6    2. 将 ax 中的内容送入 SS:SP 中指向的内存单元处， SS:SP 此时指向新栈顶7​8pop ax   // 从栈顶取出数据送入 ax91. 将 SS:SP 指向的内存单元处的数据送入 ax 中102. sp = sp + 2 （字操作，指向上一位）11    SS:SP 指向当前栈顶下面的单元，以当前栈顶下面的单元为新的栈顶12    出栈后的数据依然存在，只不过不在栈中13    执行新的 push 操作的时候，会覆盖掉原本的值14​15​16栈顶元素 ： SS:SP 任意时刻都指向栈顶元素17​18栈空 ： SS:SP 指向空间最高地址单元的下一个单元19非空 ： SS:SP 指向栈顶元素的低位20栈段地址   ：SS21栈偏移地址 ：SPgo
```



### 介绍

-   现代 CPU 都有栈的设计
-   基于 8086CPU 编程的时候，可以把一段内存当做栈来使用
-   栈 ： 从顶到底的内存地址依次增大

### 栈顶越界

-   概念
    
-   栈空间是内存空间的一部分，只是一段可以以一种特殊的方式进行访问的内存空间
    
-   越界

    -   栈满的时候进行 push 
    -   栈空的时候进行 pop
    -   越界就会访问栈规定以外的空间地址，造成越界

-   工作机理

    ```go
    xxxxxxxxxx1 18086CPU 只考虑当前的情况21. 只考虑栈顶在何处  SS ：SP 只是确保找到栈顶32. 当前要执行的指令是哪一条go
    ```

    































































## 物理地址

-   CPU 访问内存单元时，必须要给出内存单元的地址
-   所有内存单元构成的存储空间是一个一维的线性空间
-   每个内存单元在这个空间中都有唯一的地址，我们称为物理地址



















































































































