## 退出 vim

```java
ZZ	保存退出
ZQ	不保存退出
```





## 注意

```java
默认值
    光标指示的字符是： 光标后面的一个字符
不同模式
    // 不同模式间的快捷键是不通用的，注意！！！！！！！
    
    
基础模式
    1.命令模式  -- 光标非块状选择
	    增加： 输入模式
    		添加插入 、 删除插入
    	删除： 命令模式
       	修改： 替换模式
    	查询： 底线命令行模式
    1.可视模式 -- 光标块状选择
    
    
    
模式转换
    非命令模式 -- 底线命令行模式 ： 可以直接转换
```



## 1. 命令模式

### 介绍

```java
介绍
    // vim 默认开启模式
    vim  刚启动，就是进入该模式
    此状态下敲击键盘动作会被Vim识别为命令，而非输入字符 
别名
    普通模式 command mode
    命令模式 
特点
    使用 hjkl 移动鼠标 ，只有在此模式下才会生效  
    
其他
    CHAR	 任何非空白字符
	WORD	 非空白字符的序列 (字串)
    #motion   motion经过的文本
```

### 光标移动 -- motion

```java
介绍
    光标移动，就是光标从一个位置移动到另一个位置
    对于选择的：就是从当前位置选择到目的位置

// 字符跳转
	// 确定方向上移动一个字符单位，跟加键盘布局一样

    h  	j	  k	  l 
    左  下    上	右
        
// 单词跳转
    w   光标后移一个单词
    W   光标迁移一个单词
    e   单词词尾
    b	单词词首

// 行
    // 首尾跳转
    ^	至行首的第一个非空白字符
    0	本行行首
    $	本行行尾
    // 行间  
    gg	文档 首行 行首  ，1G 也是        
    #G	移动到第 # 行，缺省为 末尾行


// 句子间？？？？‘
    (	上一句        
	)	下一句
 
     
// 段落间 ,以空行为基准
    {	上一段        
     }	下一段


    
```

### 移动组合

#### 数字motion

```java
#motion  {motion} 移动经过的文本
    
 	#G	跳转至由#指定行 // 跳转至第 4 行： 先输入 4 然后输入 G  即可       
```



### 翻屏操作

```java
// buffed

Ctrl+b	back向上 翻一屏
Ctrl+u	向上 翻半屏

Ctrl+f	front向下 翻一屏
Ctrl+d	向下 翻半屏
    

```



### CURD

#### 增加 - 插入模式

##### 增加插入

```java
// 进入插入模式
记忆
   i  insert 
   a  append 

// 普通插入
i	光标前插入
I	行首插入

a	光标后面插入
A	行尾插入

o	行下方插入空行
O	行上方插入空行

// 删除插入
c
C    

    
```



#### 删除

##### 普通删除

```java
概述
    J
    x	X
    d	D
J	删除当前行后的换行符
    

x(小写)	删除当前字符
    #x  删除光标前面  #  个字符
X(大写)   删除前面一个字符
    #motion

d	从光标处开始，范围性删除
    d + 空格  ： 删除当前字符
    d + 回车   ： 删除光标处到下一个空行
    dd		 ： 删除当前行
	// command = d + motion
    // #command
D   清除当前行光标后的内容       
```





#### 修改 - 替换模式

##### 介绍

```java
修改流程
	修改的流程： 查找 -- 选中 -- 删除旧值 -- 写入新值 -- 保存
分类
    大小写转变
    	~ gu gU
    替换修改： 直接在原字符上面进行修改，鼠标习惯，
    	r: replace
    删除修改： 将原字符删除，然后进入插入模式进行修改
    	s :删除
        c : change 
	查找修改： 用命令行找到要修改的字符，然后进行修改
            	
```



##### 大小写

```java
~ 大小写变换
    变换后移动一个单位，

gU	变大写
    
gu	变小写
    gu/gU + 空格： 一个字符
    gu/gU + 回车： 整段字符
    
```

##### 替换修改-替换模式

```java
r	替换光标所在处的字符
    #r?    从光标开始，# 个字符均被替换成 ？ 单字符，没有 # 号为1个
R	切入 Replace 模式

    
// 替换模式
   只是一种快速替换的方式，不用每次都输入 r? , 
	光标到哪里，直接按下新字符， 就会替换掉旧字符    
```

##### 删除修改

```java
// 简单模式，
s	光标后字符删除
S	删除光标所在行，进入插入模式

// 进行删除操作， 进入 插入模式
// 复合操作    
c	从光标处开始，范围性删除，
    c + 空格  ： 删除当前字符 ,
    c + 回车   ： 删除光标处到下一个空行 
    cc		 ： 删除当前行
C	删除当前光标到行尾，并切换成插入模式             
```



##### 查找替换

#### 查找- 底线命令行

##### 底线命令行模式

```java
优先使用底线命令行模式
```

##### 定位

```java
// 行定位

```



##### 定位括号

```go
% 快速找到另一半
	对应到括号、中括号等成对存在的字符，按 % ，然后就可以定位到另一半的位置，配对到就跳转
	有人数 引号不行。。。
```



```java
介绍
    使用利用正则表达式进行匹配查找
```

### 其他操作

#### 复制 - yank

```java
// 复制
y [数字] motion   进行拷贝
    y + 空格  ： 复制当前字符
    y + 回车   ： 复制当前段落
    yy		 ： 复制当前行
    Y		从当前光标位置一直复制到行尾，留空行，等同于d$
   	// command = d + motion
    // #motion

```

#### 粘贴

```java
介绍
    粘贴的是
    	最后一次删除的内容
    	最后一次复制的内容
// 粘贴位置
p(小写) 	当前字符之 后
P(大写) 	当前字符之 前
// 注意
    整行  ：光标的下一行
    非整行： 光标后

```

#### 撤销操作 - undo

```java
u 	撤销最后一次的修改
    #u 多次
U 	撤消光标落在这行后，所有对此行的更改
ctrl + r 恢复撤销的内容  
```

#### 重复

```java
.	重复前一个操作
	#.
```





### //----------------------------

* 删除命令

    ```go
    // 所有的删除并不是真正的删除，事实上是放在一个缓冲区中，相当于 windows 的剪切功能
    
    x 删除当前光标所在处的字符、右边的字符一个字符
    
    
    // 删除光标所在位置到 motion 转到的位置
    d motion   删除多个字符
    	d0 		将光标位置到行首
    	d^ 		同 d0
    	d$ 		光标位置到到行尾
    	db 		光标位置到到所在单词的起始处
    	de 		光标位置到所在单词的结尾处
    	dw 		光标位置到光标所在单词的下一个单词的起始处
    
    	dd		光标所在行的字符
    	dgg 	光标所在行到文件的开头
    	dG  	光标所在行到文件的末尾
    	
    	dh		光标左边的一个字符
    	dj		光标所在行以及下一行的所有字符
    	dk		光标所在行以及上一行的所有字符
    	dl		光标指定的字符
    ```

* 数字

    ```go
    数字 + motion = 重复进行多个 motion
    d + 数字 + motion = 删除多个 motion 范围
    ```





## // --------------------

## 1.2.底线命令行模式



### 介绍

```java
* last line mode
* 命令行模式
```

### 文件操作

#### 文件排布、调整

```java
// 打开方式
	-o(小写)    垂直并排
    -O(大写)    水平并排
        vi -o 1.txt 2.txt

Ctrl+w,s或 :split,	水平分割
Ctrl+w,v或:vertical,	垂直分割
ctrl+w,q	取消相邻窗口
ctrl+w,o	取消全部窗口

    
    

文件切换
    ctrl + w + w 将光标切换到下一个文件
    垂直并排 
        ctrl + w + 上下方向，表示上下切换文件
    水平并排
        ctrl + w + 左右方向，表示左右切换文件
    
    
:next	下一个
:prev	前一个
:first	第一个
:last	最后一个
       
```



#### 单文件关闭保存

```java
// 局部内容另存为
:w 文件名  进入可视模式，选择要保存的语句,输入该语句  
:w!  强制执行
    
// 保存并推出
wq	写入并退出
x	写入并退出
// 推出，后面会提示是否需要保存    
q	退出
    
// 不保存，强制退出    
q！	不存盘退出，即使更改都将丢失
    
// 合并文件
:r 文件名   将当前文件合并到 r  后面的文件中

// 另存为    
w filename	将当前文件内容写入另一个文件
    
    
    
!command	执行命令
r!command	读入命令的输出
```

#### 多文件关闭保存

```java
:wall	保存所有
:qall	退出所有
:wqall	保存退出所有
:waq!   强制推出所有 
```



### 匹配规则

#### 介绍

```java
就是查询的时候，利用什么方式进行查询
```



##### 定行

```java
// 单行
#	具体第 # 行行首  ：2 第二行行首

// 多行
开始#，结束#
    
    
#	具体第#行，例如2表示第2行
.	表示当前行
$	表示最后一行    
%	全文, 相当于1,$    
    
    
. 或$-1	当前行到倒数第二行    
#,#	    从左侧#表示起始行，到右侧#表示结尾行
#,+#	从左侧#表示的起始行，加上右侧#表示的行数， 2,+3	表示2到5行

```

##### 正则进行定界

```java
介绍
格式
    // 从第一次被pat1模式匹配到的行开始，一直到第一次被pat2匹配到的行结束
     /正则1/,/正则2/
语法例子
    #,/pat/ ——–>从第#行开始，一直到第一次被pat匹配到的行结束。
	/pat/,$ ———>从第一次被pat模式匹配到的行开始，到行尾结束。
    
```

### CURD

#### 查询

```java
这个貌似是在底线命令行模式的

/    查找从按下 / 那一刻开始的。默认从光标位置从下搜索


/字符    查找字符，所有字符都高亮
？字符

：nohl    退出高亮

不能直接使用 / 直接搜索的
	.  *  [  ]  ^  %  /  ?  ~  $
	使用 // 特殊字符
	
```

|          | / 目标         | ？目标         |
| -------- | -------------- | -------------- |
| 搜索方向 | 从光标位置往后 | 从光标位置往前 |
| n        | 向后搜索下一个 | 向前搜索下一个 |
| N        | 向前搜索下一个 | 向后搜索下一个 |



#### 查询 - 删除、复制

```java
格式
    匹配规则 操作
例子
    ：2， 19 d // 删除第 2 行到第 19 行
    
语法例子
    d	删除匹配到的内容
	y	复制匹配到的内容
```

#### 查询替换

```java
介绍
    按格式输入要查找和替换的内容，便可进行查找替换。
语法格式
    // 字母s 别忘记了
    匹配规则s/要查找的内容/替换为的新内容/修饰符
书名
    要查找的内容： 
    	可用正则
    替换的新内容： 
    	具体的内容，不可以使用正则
    	使用 \1, \2, …等后向引用符号；  // ????
    	使用“&”引用前面查找时查找到的整个内容  // ???
    修饰符
    	i	忽略大小写
        g	全局替换；默认情况下，每一行只替换第一次出现
        gc	全局替换，每次替换前询问	
    分隔符
    	该符号可以自己设置，查找和替换的内容中包含路径，再使用"/"作为分割符就不方便了
    	这时可以使用@、#等特殊符号来做分割符
    	  s@/etc@/var@g
    
特殊语法    
：%s/o/x/gc    把整个文件的 o 都修改为 x ,但是替换的时候要询问你是否需要替换
	y(yes) n(no) a(all) q(quite)  l(替换第一个，并进入插入模式)  
	^E(ctrl + e 滚动屏幕)  ^Y(ctrl + y 滚动屏幕)

4，12s/oo/xx/g	第 4 行到第 12 行的 oo 都替换成 xx     
```





#### 操作

```java

    
w file	将范围内的行另存至指定文件中
r file	在指定位置插入指定文件中的所有内容
```



## 2. 可视模式

### 介绍

```java
特点
    // 就是光标跳转过路径中的代码都会被选中
	命令模式是不能利用光标移动选择多个字符的
    可视化模式下允许移动光标选择文本块，
    选中的文字可被删除，复制，变更，过滤，搜索，替换等。、
    
使用
    就是来进行光标快速选择的，选择完，可以直接使用 命令模式的命令进行操作
    
注意
    // 可是模式下，对所需选的代码进行修改
    1.  命令模式下编辑文本的很多命令，在可视化模式下仍然可以使用,只不过这里是针对代码块
    2.  Vim同时编辑多行时，只有在当前的插入动作结束后(按Esc退为命令模式)，
    	之前选中的其它行才会出现同样插入的文本。
```

### 模式切换

```java
v		字符的可视化模式，文本选择是以字符为单位的。
V		行的可视化模式， 文本选择是以行为单位的
ctrl-v		块的可视化模式， 可以选择一个矩形内的文本
```

### 常用命令

```java
gv	选中前一 次可视化模式时选择的文本
o 光标移动到选中文本的另一 结尾
O 光标移动到选中文本的另一 角落

    
d	删除选中的部分文本。
D	删除选中部分所在的行，和 d 不同之处在于，即使选中文本中有些字符所在的行没有都选中，删除时也会一并删除。
y	将选中部分复制到剪贴板中。
p（小写）	将剪贴板中的内容粘贴到光标之后。
P（大写）	将剪贴板中的内容粘贴到光标之前。
u（小写）	将选中部分中的大写字符全部改为小写字符。
U（大写）	将选中部分中的小写字符全部改为大写字符。
>	将选中部分右移（缩进）一个 tab 键规定的长度（CentOS 6.x 中，一个tab键默认相当于 8 个空白字符的长度）。
<	将选中部分左移一个 tab 键规定的长度（CentOS 6.x 中，一个tab键默认相当于 8 个空白字符的长度）    
```



### 使用例子

```java
字符可视化模式
   进入该模式，直接输入 3l + 回车， 会直接选择光标向右的三个字符
行可视化模式
    进入该模式，直接输入 2k + 回车， 会直接选择光标所在行及其以下2行
块可视化区域
    先输入 2k 后输入 2l 会直接选取一个 3 x 3 大小的代码块

案例一： 块状注释
    (1) Ctrl + v进入块选择模式
    (2) 向上或向下移动光标选择多行
    (3) 移动光标到行的起始位置
    (4) 然后按大写的 I 进入行首插入模式
    (5) 插入注释符
    (6) 按Esc回到命令模式
注意
    Vim同时编辑多行时，只有在当前的插入动作结束后(按Esc退为命令模式)，之前选中的其它行才会出现同样插入的文本。
```



## 5. 选择模式

## 6. ex 模式







# 派生模式

## 操作符等待模式

## 插入普通模式

## 插入可视模式

## 插入选择模式









# 参考

```go
https://www.jianshu.com/p/58345e068471

小甲鱼 vim 快速入门
```

