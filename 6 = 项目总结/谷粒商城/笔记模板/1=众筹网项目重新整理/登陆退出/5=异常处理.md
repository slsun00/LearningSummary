## 登陆失败异常

```java
package com.atguigu.crowd.exception;

/**
 * 表示用户没有登录就访问受保护资源时抛出的异常
 * @author Lenovo
 *
 */
public class AccessForbiddenException extends RuntimeException {
	private static final long serialVersionUID = 1L;
	
    快捷键： generate/constructor/全选/自动生成

}

```

## 需访问登陆

```java
/**
 * 表示用户没有登录就访问受保护资源时抛出的异常
 * @author Lenovo
 *
 */
public class AccessForbiddenException extends RuntimeException {
	private static final long serialVersionUID = 1L;
	
    快捷键： generate/constructor/全选/自动生成

}
```



## // ==

## == 基于xml 异常配置

## 需访问登陆

```xml
<!--
	这个也要写前面的异常类的
-->	
	<!-- 配置基于XML的异常映射 -->
	<bean id="simpleMappingExceptionResolver" 
          class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
		<!-- 配置异常类型和具体视图页面的对应关系 -->
		<property name="exceptionMappings">
			<props>
				<!-- key属性指定异常全类名 -->
				<!-- 标签体中写对应的视图（这个值要拼前后缀得到具体路径） -->
				<prop key="java.lang.Exception">system-error</prop>
				<prop key="com.atguigu.crowd.exception.AccessForbiddenException">admin-login</prop>
			</props>
		</property>
	</bean>
```



## == 基于注解异常配置

## 登陆失败异常

```java
// @ControllerAdvice表示当前类是一个基于注解的异常处理器类
@ControllerAdvice
public class CrowdExceptionResolver {
    
    /*
    	具体绑定的例子
    	绑定其自定义的异常，只用重写这个方法
    	改动的地方
    		注解：@ExceptionHandler(value = 自定义的类的名称.class)
    		视图：viewName = "具体的页面"
    
    */
	@ExceptionHandler(value = LoginAcctAlreadyInUseException.class)
	public ModelAndView resolveLoginAcctAlreadyInUseException(
			LoginAcctAlreadyInUseException exception,
			HttpServletRequest request,
			HttpServletResponse response
			) throws IOException {
		
		String viewName = "admin-add";
		
		return commonResolve(viewName, exception, request, response);
	}
    
    
    
}
```

## 需访问登陆

```java
	@ExceptionHandler(value = AccessForbiddenException.class)
	public ModelAndView resolveAccessForbiddenException(
			AccessForbiddenException exception,
			HttpServletRequest request,
			HttpServletResponse response
			) throws IOException {
		
		String viewName = "admin-login";
		
		return commonResolve(viewName, exception, request, response);
	}
```

