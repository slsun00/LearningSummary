## 介绍

* 请求方法有人也叫做动作

## 请求方法

### 概述

```js
 介绍
	// http0.9	: get
    // http1.0  : post , head
    // http1.1  : put , delete , potions , patch , trace , connect
 别称
 	有时候也称为动作
 具体方法
    HTTP1.0 ： 
        GET, POST ，HEAD
    HTTP1.1 ：
        DELETE PTIONS、PUT、PATCH、TRACE 和 CONNECT 方法。
```



### 含义

```js
HEAD 
	// 获得报文首部
    类似于 GET 请求，只不过返回的响应中没有具体的内容
    
GET 
	// 获取资源
	 请求指定的页面信息，并返回实体主体。
     
POST 
	// 传输实体文本
	向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。
    数据被包含在请求体中。
    POST 请求可能会导致新的资源的建立和/或已有资源的修改。

PUT
	// 传输文件
	从客户端向服务器传送的数据取代指定的文档的内容。
    
DELETE
	// 删除文件
	请求服务器删除指定的页面。
    
CONNECT
	// 要求用隧道协议连接代理
	HTTP/1.1 协议中预留给能够将连接改为管道方式的代理服务器。
    
OPTIONS 
	// 询问支持的方法
	允许客户端查看服务器的性能。
	查询针对请求URI指定资源支持的方法（客户端询问服务器可以提交哪些请求方法）
    
TRACE
	// 追踪路径
	回显服务器收到的请求，主要用于测试或诊断。
    
PATCH
	// 
	是对 PUT 方法的补充，用来对已知资源进行局部更新 
```

### 请求触发

#### html 标签

```java
// get 请求
	1、form 标签 method=get 
	2、a 标签 的 src 属性
    3、link 标签引入 css 
    4、Script 标签引入 js 文件
    5、img 标签引入图片 
    6、iframe 引入 html 页面 
    7、在浏览器地址栏中输入地址后敲回车
// post
    1、form 标签 method=post    
        
// 对于        
```

#### 前后端分离 - axios

```java
1. 创建 axios 实例
    // 创建axios实例
    const service = axios.create({
      baseURL: "http:localhost:8080"
      timeout: 12000 // 请求超时时间
    })
2. 进行请求封装
      getNestedTreeList(courseId) {
        return service({
          url: `/admin/edu/chapter/nested-list/${courseId}`,
          method: 'get'
        })
      },
3. 在 js 中调用该函数的地方，就会发出对应的请求
    getNestedTreeList(courseId)
```



## 数据传递 

### 数据交互

```java
// 前端
发送
    带有 路径参数 、 请求参数 、 data 的请求
接收
    介绍
       // 前端使用不同的框架，接受的数据的方式是不同的
      首先：统一都是将返回的数据进行解析 // （后端统一包装好的数据）
      然后：将解析数据存入自身（框架）保存数据的结构中
      最后：框架自身存储数据的结构，将数据存储到页面中

     vue: 
		将接受的数据存储在 data 中，通过 data 进行表单渲染
     react:
		将接受的数据存储在 data 中，通过 data 进行表单渲染                	
// 后端
	介绍
		不同的后端 web 框架，实现的方式不一样            
         根据前端请求过来的 url 和方法， 返回一个统一结果，让前端进行解析
```



### 数据位置 

```java
通过请求进行数据传递的方式有三种
// 路径参数
  使用
    直接对请求的 url 进行变量设置：`/course/remove/${id}`
  前端处理：
    // js 传参
    通过封装的发送请求的函数的参数进行获取
    // 页面获取
    通过获取页面(组件)中的代表该参数的值，
   
  后端处理：
    获取路径中传递过来的数据，进行识别前端需要的数据，进行处理
    方便在统一返回的数据中，设置对应的值

// 请求参数
    
    
// data
    这个主要是用在 post 请求的请求域中，返回给前端
```



### 前后端分离 axios

#### 介绍

```java
这个请求的封装看前后端分离 - axiso
    
路径参数、请求查询参数，都是通过 
1. 页面的数据(vue的data中的数据)
    请求参数、路径参数、data 都是前端需要的数据的
2. 数据，通过 axios 封装的函数进行传递给 axios 对象
   axios 对属性进行封装， 发送给后端
3. 后端框架对前端发送过来的请求进行解析
    然后返回对
```



#### 路径参数

```java
// 前端 -- js
  // 封装的函数中的参数，通过 js 字符串变量获取
  getNestedTreeList(courseId) {
    return request({
      url: `/nested-list/${courseId}`,
      method: 'get'
    })
  },
// 页面组件 -- vue
// 获取组件中能代表该参数的变量(组件中的)
chapterApi.getNestedTreeList(this.$parent.courseId)
    .then(response => {
        this.chapterList = response.data.items
      })
```



#### 请求(查询)参数

```java
注意
    params 原本是个对象, 注意以下简写
    params: searchObj ==>  params: { searchObj }
    params: params ==>  params


// 前端 -- js
  // 函数中传递了： 路径参数 请求参数
  getPageList(page, limit, searchObj) {
    return request({
     // url 中是路径参数，不是请求参数
      url: `/admin/edu/course/list/${page}/${limit}`,
      method: 'get',
      params: searchObj   // 这个才是请求(查询)参数
    })
  },
// 页面
    // 获取课程列表
    fetchData() {
     // page limit searchObj 都是页面组件中的 data 中数据
      courseApi.getPageList(
          this.page, 
          this.limit, 
          this.searchObj
      ).then(response => {
        this.list = response.data.rows
        this.total = response.data.total
      })
```



#### data

```java
// 前端 -- js
saveCourseInfo(courseInfo) {
    return request({
        url: '/admin/edu/course/save-course-info',
        method: 'post',
        data: courseInfo
    })
},

// 页面
    // 保存课程信息
    saveData() {
      // courseInfo 都是页面组件中的 data 中数据
      courseApi.saveCourseInfo(
          this.courseInfo
      ).then(response => {
        this.$message.success(response.message)
        this.$parent.courseId = response.data.courseId // 获取courseId
        this.$parent.active = 1 // 下一步 访问父组件的成员 $parent
      })
    },
```



## 辨析

### GET 请求

* 作用

    *   向服务器端请求指定的页面信息，并返回实体主体。
    *   GET请求消息体为空

*   注意

    *   没有特殊设置，默认情况下浏览器发送的都是GET请求 ：点击超链接、在浏览器地址栏直接输入地址

*   提交数据

    *   形式

        *   会放在URL之后，以`?`分割URL和传输数据，请求参数名和值用=连接，参数之间以`&`相连

            ```go
            GET /mail/1.html?name=abc&password=xyz HTTP/1.1
            ```

    * 大小 

        *   携带的数据大小有限制，通常不能超过4K（因为浏览器对URL的长度有限制）

    *   GET方法传输的数据量一般限制在2KB

*   缺点 

        *   不适于提交大量表单数据
        *   不安全 ：一个登录页面，通过GET方式提交数据时，用户名和密码将出现在URL上，如果页面可以被缓存或者其他人可以访问这台机器，就可以从历史记录获得该用户的账号和密码。 

### POST 请求

* 作用

    *   向服务器端发送数据
    *   向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。
    *   数据被包含在请求体中。POST 请求可能会导致新的资源的建立和/或已有资源的修改。
    *   POST请求带有消息体

*   提交数据

    *   形式
        *   需要在表单中设置 method=”post” ，请求方式为POST方式
        *   将请求参数放在请求体中，而不是URL地址后面
        *   提交的数据放在HTTP包的body中。
    *   大小
        *   发送数据的大小是没有限制的。
    *   优势
        *   表单的提交方式中首选POST方式。

*   代码例子

    ```html
    <html>
        <head>
            <meat charset = "UTF-8"/>
        </head>>
        <body>
            <form action="http://localhost:8080/http" method="POST">
                用户名：<input type="text" name="username" /></br>
                密码：<input type="password" name="password" /></br>
                <input type="submit"/>
    
            </form>>
        </body>>
    </html>>
    ```


1.  我们可以看到GET请求消息体为空，POST请求带有消息体。
2.  GET提交的数据会放在URL之后，以`?`分割URL和传输数据，参数之间以`&`相连，如`EditPosts.aspx?name=test1&id=123456`。POST方法是把提交的数据放在HTTP包的body中。
3.  GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制。
4.  GET方式提交数据，会带来安全问题，比如一个登录页面，通过GET方式提交数据时，用户名和密码将出现在URL上，如果页面可以被缓存或者其他人可以访问这台机器，就可以从历史记录获得该用户的账号和密码。



## 参考

```js
https://www.html.cn/archives/9341
```

