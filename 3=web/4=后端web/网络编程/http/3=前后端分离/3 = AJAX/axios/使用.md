## github文档

```js
https://github.com/axios/axios#axios
```

## 安装

```js
使用要安装 ，看管官方文档

// 导入
// commonjs
	const axios = require('axios').default;
// es6
	import axios from 'axios'
```



## API

```js
axios API  请求方式
```

## 发送并发请求

```js
// 有两个请求，当两个请求都到达的时候再进行下一步操作
Promise.all([axios(),axios()]).then()
```

## 配置

```js
全局配置
私有配置
常见的配置
```

### 实例

```js
针对 分布式服务器 ，有多个接口

介绍
baseURL 
	1. baseUrl会附加到你绑定的axios实例（如果是全局的，那就是所有实例）上 
    2. 请求：get/post的url参数是相对路径（如） /api/c/xx
	   执行：
       		设置 baseURL 则：执行 baseUrl + '/api/c/xx
			没设置 baseURL 则： 走浏览器地址栏里的base + baseUrl。
	3. 注意 webpack 中的 proxyTable
    	测试环境为了避免浏览器下的跨域访问，而以nodejs代理成同前端页面（即浏览器地址栏）同域的一种处理
        指定proxyTable后， axios就不需要指定baseUrl了
		proxyTable会把base + '/api/c/xx'代理到【base baseUrl + '/api/c/xx'】的接口地址上。	

// Custom instance defaults
// Set config defaults when creating the instance
// 这个instance 就是一个 axiosPromise 类型
const instance = axios.create({
  baseURL: 'https://api.example.com'
});

// 设置多个 instance
instance({
    url:
})
.then()

// Alter defaults after instance has been created
instance.defaults.headers.common['Authorization'] = AUTH_TOKEN;
```

### 封装

```js
// 可以设置一个 network 的文件夹 , 专门进行网络请求的封装
network
	-- request.js
	



//request.js
import axios from 'axios'
export function request(config) {
    // 创建实例，不要用全局的 ,
    // 注意这个 instance 是  axiosPromise , 是一个 promise 类型
    const instance = axios.create({
        baseURL:
        timeout:300
    })
    // 发送请求
    return instance(config)
}



// 使用 main.js
import {request} from './request.js'
request({})
    .then(res => {success(res)})
	.catch(err => {failure(res)})
```

## 拦截器

```js
请求成功 、请求失败拦截
	
响应成功 、请求失败拦截

//request.js
import axios from 'axios'
export function request(config) {
    // 创建实例，不要用全局的 ,
    // 注意这个 instance 是  axiosPromise , 是一个 promise 类型
    const instance = axios.create({
        baseURL:
        timeout:300
    })
    
    // 拦截器
    axios.interceptor.request.use(
        // 注意，你拦截下来的东西。要还回去，不然会出错
        // 1. 比如config格式不符合服务器的要求，进行过滤处理再传到后端
        // 2. 某些网络请求(比如登陆token) , 必须携带特殊的信息
        config => {return config}, 
        err => {} )
    // 响应拦截
    axios.interceptor.response.use(
        // 响应拦截只用返回data就行
        res => {return res.data}, 
      	err => { return Promise.reject(error) }
    )

    	
    
    // 发送请求
    return instance(config)
}



// 使用 main.js
import {request} from './request.js'
request({})
    .then(res => {success(res)})
	.catch(err => {failure(res)})
```



