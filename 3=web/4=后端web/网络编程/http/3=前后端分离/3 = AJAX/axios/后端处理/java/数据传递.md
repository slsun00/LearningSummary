## 数据接收发送

### params

####  === get + post  ==

#### 基础类型接收

```java

// ==================
// method
const params = {
    id: '123456789',
    name: '张三'
}
test(params)

// api
export function test (params) {
  return axios({
    url: url,
    method: 'GET',
    params: params
  })
}
// ===================================
// 后台
// 基础类型接收，名字对应即可
@GetMapping("/test")
public Result test(Long id, String name) {
    return Res.ok();
}

```

#### 实体类接收

```java
/ 实体类
@Data
public class TestEntity {
    Long id;
    String name;
}

// method
const params = {
    id: '123456789',
    name: '张三'
}
test(params)

// api
export function test (params) {
  return axios({
    url: url,
    method: 'GET',	
    params: params
  })
}

// 后台
@GetMapping("/test")
public Result test(TestEntity testEntity) {
    return Res.ok();
}

```

#### 其他类型接收 -- RequestParam

```java
// method
const params = {
    id: '123456789',
    name: '张三'
}
test(params)

// api
export function test (params) {
  return axios({
    url: url,
    method: 'GET',
    params: params
  })
}

// 后台
@GetMapping("/test")
public Result test(@RequestParam Map<String, Object> map) {
    return Res.ok();
}

```

#### 接收 list

```java
// 问题
let params = {
                statusList: ['OVERDUE', 'DELAY']
             }
             
this.$http.get('/list', params)
            .then(res => {})
            .catch(e => {})
                
不做配置的时候请求信息为：
     /list？statusList[]=OVERDUE&statusList[]=DELAY   
后端
	statusList[]形式的提交是无效的
正确请求
	/list?statusList=OVERDUE&statusList=DELAY                
// 解决方式
方案一：qs
// 将数组转换为 字符串
    1、qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'indices' })
    // 输出结果：'a[0]=b&a[1]=c'
    2、qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'brackets' })
    // 输出结果：'a[]=b&a[]=c'
    3、qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'repeat' })
    // 输出结果：'a=b&a=c'
    4、qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'comma' })
    // 输出结果：'a=b,c'

方案二：axios 配置
axios.interceptors.request.use(async (config) => {
//只针对get方式进行序列化
 if (config.method === 'get') {
  // 专门对数据进行序列化的配置属性paramsSerializer     
   config.paramsSerializer = function(params) {
     return qs.stringify(params, { arrayFormat: 'repeat' })
   }
 }
}
```







### data

#### == post ==

#### 使用

```java
必须使用一个实体类接收参数，而且需要添加注解@RequestBody进行修饰
    
// 实体类
@Data
public class TestEntity {
    Long id;
    String name;
}

// method
const params = {
    id: '123456789',
    name: '张三'
}
test(params)

// api
export function test (params) {
  return axios({
    url: url,
    method: 'POST',	
    data: params
  })
}

@PostMapping("/test")
public Result test(@RequestBody TestEntity testEntity) {
    return Res.ok();
}

```

