## 插件

### 介绍

```java
介绍
    插件通过动态代理机制，可以介入四大对象的任何一个方法的执行
四大对象
    Executor(update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)
	ParameterHandler (getParameterObject, setParameters) 
	ResultSetHandler (handleResultSets, handleOutputParameters) 
	StatementHandler (prepare, parameterize, batch, update, query)
```





### 自定义插件

```java
介绍
    使用插件是非常简单的，只需实现 Interceptor 接口，并指定想要拦截的方法签名即可

例子
    // ExamplePlugin.java
@Intercepts({
    @Signature(
	  type= Executor.class,
	  method = "update",
  	  args = {MappedStatement.class,Object.class}
    )
})
    
public class ExamplePlugin implements Interceptor {
  private Properties properties = new Properties();
  public Object intercept(Invocation invocation) throws Throwable {
    // implement pre processing if need
    Object returnObject = invocation.proceed();
    // implement post processing if need
    return returnObject;
  }
  public void setProperties(Properties properties) {
    this.properties = properties;
  }
}

<!-- 全局配置文件.xml -->
<plugins>
  <plugin interceptor="org.mybatis.example.ExamplePlugin">
    <property name="someProperty" value="100"/>
  </plugin>
</plugins>
```

