## 解决属性名和字段名不一致的问题

### 问题

```java
字段名：数据库 id name pwd
属性名：实体类 id name password
   
    
mybatis会根据数据库的字段名去找对应的实体类的属性名， 
流程
    首先： 将所有列名转换为小写，
    	// 若数据库字段名和实体类的属性名相同，则resultMap中可以不用写它们的result标签
    	 寻找的是相同的变量名，找到了就映射成功，
    	 如果找不到再按寻找set后面的变量名
    然后： 去找实体类中对应的 set方法 ，set方法后面的字段就对应数据库的字段名
    结果： 如果不一样就会返回null
    
    User类中的属性名和数据库中的user的字段名不一致时，
那么当我们查询的时候那么不一致的字段查询到的值就不会赋值给User属性的值，那么该属性值就为空。    
```



### 1.  尽量一致

```java
属性名 vs 数据库字段名一致
    
但是
    // 阿里巴巴规范中
    表达是与否概念的字段，
    	必须使用 is_xxx 的方式命名，
    	数据类型是 unsigned tinyint （1 表示是，0 表示否）。 
		说明：任何字段如果为非负数，必须是 unsigned。
注意
    不是说必须要遵从这个规范，只是建议
    
```

### 2 配置文件配置

```java
解决
    
    java中： 实体类中的属性一般是采用驼峰命名命名的，
    数据库中： 表的字段则用下划线区分字母。
    
    在这种情况下，Mybatis提供了一个全局属性mapUnderscoreToCamelCase来解决两者名字不一致的问题。

	// 在核心配置文件中启用下划线与驼峰式命名规则的映射 
    // 因为该属性是全局属性，所以需要配置在Mybatis的配置文件中，而不是Mapper.xml映射文件中
	<configuration>  
         <settings>  
              <setting name="mapUnderscoreToCamelCase" value="true" />  
         </settings>  
    </configuration>  
```



### 2. 结果集映射ResultMap 【最推荐的方式】

```java
<select id="selectUser" resultMap="UserMap">
  select * from user
</select>
<!--设置结果的映射类型-->
<resultMap id="UserMap" type="User">
    <!--
    一般通过id标签来映射主键
    column = 数据库的列名
    property = 结果集对应的数据库列名的映射名
    -->
    <id column="id" property="id"/>
    <result column="name" property="name"/>
    <result column="pwd" property="password"/>
</resultMap>

```

### 3. 给sql语句取别名【字段少的时候推荐使用】

```sql
	<select id="selectUser" resultType="com.kuang.pojo.User">
        select 
        	id,
        	name,
        	pwd as password   # 起别名
        from 
        	user
    </select>
```

### 4. 修改set方法名字[不推荐]

```java
原因
    Mybatis可以通过set方法来进行查询的
    但是代码大量使用到 java 的属性值，就要改变好多信息
 例子
    // 修改前 java属性为 passWord 数据库为 pwd
    public String getPassword() { return this.password; }
    public String setPassword(String passWord) { this.password = password; }

    // 修改后 java属性为 passWord 数据库为 pwd
    public String getPassword() { return this.password; }
    public String setPwd(String passWord) { this.password = password; }
```

## 多表联查

### 查询字段相同内容被覆盖

```java
在mybatis的多表连接查询时，两表出现字段相同时，查询的结果会被覆盖。
    
解决
    就是把一个表的相同字段，在查询的时候取个别名
```

