## 介绍

```java
主要有两种配置方式
    1. xml
    2. 硬编码
```

## xml 配置

### pom

```xml
<dependency>
    <groupId>com.spring4all</groupId>
    <artifactId>swagger-spring-boot-starter</artifactId>
    <version>1.8.0.RELEASE</version>
</dependency>
```

### applicaiton.yml

```yml
swagger:
  base-package: 'com.lzr.test.controller'
  base-path: '/**'
  title: '注解方式的Swagger'
  description: '这是注解方式的Swagger'
  version: '2.0'
  license-url: 'https://www.apache.org/licenses/LICENSE-2.0.html'
  license: 'The Apache License'
  contact:
    name: '吕小白'
    url: 'https:www.baidu.com'
    email: '******@qq.com'

```

### 启动类

```java
// 在启动类添加注解@EnableSwagger2Doc
@EnableSwagger2Doc
@SpringBootApplication
public class TestApplication {

    public static void main(String[] args) {
        Object o=new Object();
        SpringApplication.run(TestApplication.class, args);
    }

```



### 问题

```java
// 如果抛出错误： java.Lang.NoCLassDefFoundError: javax/validation/constraints/Min
// pom.xml 添加
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-validation</artifactId>
</dependency>


```



## java 配置接口扫描过滤

### pom

```xml
<dependency>
    <groupId>io.springfox</groupId>
    <artifactId>springfox-swagger2</artifactId>
    <version>2.9.2</version>
</dependency>
<!--        导入swagger-ui依赖, 皮肤设置 -->
<dependency>
    <groupId>io.springfox</groupId>
    <artifactId>springfox-swagger-ui</artifactId>
    <version>2.9.2</version>
</dependency>

```

### java 类

```java
package com.lzr.test.utils;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import springfox.documentation.builders.ApiInfoBuilder;
import springfox.documentation.builders.PathSelectors;
import springfox.documentation.builders.RequestHandlerSelectors;
import springfox.documentation.service.Contact;
import springfox.documentation.spi.DocumentationType;
import springfox.documentation.spring.web.plugins.Docket;
/**
 * @Author 吕小白
 * @ClassName SwaggerUtil
 * @Date 2021/1/18 15:51
 * @Version 1.0
 **/
package com.atguigu.guli.service.base.config;

@Configuration
@EnableSwagger2
public class Swagger2Config {

//=============================================================================
/*
	这样设置一个 config ，返回一个 Docket ，这样就构成一个页面
	这个页面中显示一组 api 
	配置多个这个 bean 就是分组
*/    
    @Bean
    public Docket webApiConfig(){
        
         // 设置要显示swagger的环境
       Profiles of = Profiles.of("dev", "test");
       // 判断当前是否处于该环境
       // 通过 enable() 接收此参数判断是否要显示
       boolean b = environment.acceptsProfiles(of);
	   // 通过下面的  .enable(b)
        
        

        return new Docket(DocumentationType.SWAGGER_2)
            	// .enable(false) //配置是否启用Swagger，如果是false，在浏览器将无法访问
            	// 客户端界面发送的请求的分组
                .groupName("webApi")  
                .apiInfo(webApiInfo())
            	// 通过.select()方法，去配置扫描接口,RequestHandlerSelectors配置如何扫描接口
                .select()
            	// .apis(RequestHandlerSelectors.basePackage("com.kuang.swagger.controller"))
            
            
                // 只显示api路径下的页面
            	// 配置如何通过path过滤,即这里只扫描请求以/kuang开头的接口
            	//      .paths(PathSelectors.ant("/kuang/**"))
                .paths(Predicates.and(PathSelectors.regex("/api/.*")))
            
            	/*            	
            	== 其他可选值
            	any() // 任何请求都扫描
                none() // 任何请求都不扫描
                regex(final String pathRegex) // 通过正则表达式控制
                ant(final String antPattern) // 通过ant()控制
            	
            	*/ 
            	
                .build();

    }

   // 这里封装的是 swagger 的详细新消息
   private ApiInfo adminApiInfo() {
        return new ApiInfoBuilder()
                .title("后台管理系统-API文档")
                .description("本文档描述了后台管理系统微服务接口定义")
                .version("1.0")
                .contact(new Contact("Helen", "http://atguigu.com", "55317332@qq.com"))
                .build();
    }
}
//====第二组 api 接口=========================================================================
    @Bean
    public Docket adminApiConfig(){

        return new Docket(DocumentationType.SWAGGER_2)
            	// 后端 api 发送给服务器的请求
                .groupName("adminApi")
                .apiInfo(adminApiInfo())
                .select()
                //只显示admin路径下的页面
            	/*
                .paths(Predicates.not(PathSelectors.regex("/admin/.*")))
                .paths(Predicates.not(PathSelectors.regex("/error.*")))
            	
            	*/
                .paths(Predicates.and(PathSelectors.regex("/admin/.*")))
                .build();

    }

    private ApiInfo webApiInfo(){

        return new ApiInfoBuilder()
                .title("网站-API文档")
                .description("本文档描述了网站微服务接口定义")
                .version("1.0")
                .contact(new Contact("Helen", "http://atguigu.com", "55317332@qq.com"))
                .build();
    }



```

## 其他皮肤包

我们可以导入不同的包实现不同的皮肤定义：

1、默认的 访问 http://localhost:8080/swagger-ui.html

    <dependency> 
       <groupId>io.springfox</groupId>
       <artifactId>springfox-swagger-ui</artifactId>
       <version>2.9.2</version>
    </dependency>

2、bootstrap-ui 访问 http://localhost:8080/doc.html



    <!-- 引入swagger-bootstrap-ui包 /doc.html-->
    <dependency>
       <groupId>com.github.xiaoymin</groupId>
       <artifactId>swagger-bootstrap-ui</artifactId>
       <version>1.9.1</version>
    </dependency>

3、Layui-ui 访问 http://localhost:8080/docs.html



    <!-- 引入swagger-ui-layer包 /docs.html-->
    <dependency>
       <groupId>com.github.caspar-chen</groupId>
       <artifactId>swagger-ui-layer</artifactId>
       <version>1.1.3</version>
    </dependency>

4、mg-ui 访问 http://localhost:8080/document.html



    <!-- 引入swagger-ui-layer包 /document.html-->
    <dependency>
       <groupId>com.zyplayer</groupId>
       <artifactId>swagger-mg-ui</artifactId>
       <version>1.0.6</version>
    </dependency>


