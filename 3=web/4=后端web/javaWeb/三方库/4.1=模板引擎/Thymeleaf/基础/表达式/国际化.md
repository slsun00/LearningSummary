## 国际化

```java
介绍
    允许从外部源(如:.properties)文件中检索特定于语言环境的消息，通过键来引用这引用消息。
    
注意
    在Spring应用程序中，它将自动与Spring的MessageSource机制集成
    
例子
// 消息键由上下文变量的值确定，或者希望将变量指定为参数，则可以在消息表达式中使用变量表达式:
    #{${config.adminWelcomeKey}(${session.user.name})}
// 普通使用
    <table>
      ...
      <th th:text="#{header.address.city}">...</th>
      <th th:text="#{header.address.country}">...</th>
      ...
    </table>
```

## 使用 -- 没有过，不总结了



### application.properties

```java
spring.messages.basename = i18n/messages
```



### properties

```java
1. resources 
    i18n // 国际化的资源文件
    	message.properties
    	message_zh_CN.properties

// ====================================    
message.properties
    login=login|登陆
  
// zh 国家
// CN china    
message_zh_CN.properties
    login=登陆
message_en_US.properties
    login=login   
    
```

### LocalResolver 实现

```java
package com.config;


import org.springframework.util.StringUtils;
import org.springframework.web.servlet.LocaleResolver;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import java.util.Locale;


public class MyLocalResolver implements LocaleResolver {
    @Override
    public Locale resolveLocale(HttpServletRequest request) {
        String lang = request.getParameter("lang");  //zh-cn
        Locale local = request.getLocale();
        if (!StringUtils.isEmpty(lang)) {
            String[] data = lang.split("_");
            local = new Locale(data[0], data[1]);

        }
        return local;
    }

    @Override
    public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) {

    }
}

```

### spring 配置类

```java
package com.config;

import org.springframework.context.annotation.Bean;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
import org.springframework.web.servlet.LocaleResolver;

/**
 * @author slsun
 * @version 1.0
 * @title: MyWebConfig
 * @description //TODO $
 * @date: 2021/6/12 19:19
 */

@Configuration
public class MyWebConfig implements WebMvcConfigurer {

    @Bean
    public LocaleResolver localResolver() {
        return new MyLocalResolver();
    }
    
}
```

### html _+_ controller

```java
<a href="/i18n?lang=zh_CN">中文</a>
<a href="/i18n?lang=en_US">中文</a>    
    
<p th:text:="#{login}"></p>
```



·