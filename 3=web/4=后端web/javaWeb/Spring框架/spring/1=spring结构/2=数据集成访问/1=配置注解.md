## 配置

### configuration

```java
@Configuration {   
配置：{        class    },   
含义： { 
    // 配置类也是组件
    // 等价于 @Component ， 不过使用Configuration注解声明配置类更加语义化。
    一般用来声明配置类，指定当前类是一个 Spring 配置类，当创建容器时会从该类上加载注解
    一个配置类相当于一个 xxx.xml 文件
    被标注的类是一个配置类，内部可以声明一个或多个@Bean方法,         
}
属性：{
	proxyBeanMethods=
    	true(full)  : 
    		保持单例模式，组件出现依赖使用
    		代理 bean 方法，得到是一个代理对象，代理对象调用方法，springBoot 检查这个保持组件单实例
    		证每个@Bean方法被调用多少次返回的组件都是单实例
    	false (liter): 
    		多实例模式
    		每个@Bean方法被调用多少次返回的组件都是新创建的
    		springBoot 不会检查，没有组件使用，就使用，加载快
    }
}
     
语法例子

@Configuration
public class MyConfig{

    /* 当前类算是一个 MyConfig.xml 文件
        内部的 bean 标注的方法，其返回值 对象会注入到 spring 容器中
        MyConfig.xml 中
        <bean class="xxx.xxx.xxx.User"></bean>
    */	    
    @Bean
    public User user01() {
        return new User();
    }
}        
```

### import

#### xxx

```java
介绍	自动在容器中创建组件语法格式            
    语法例子
    // 给容器中自动创建出这两个类型的组件、默认组件的名字就是全类名    
    @Import({User.class, DBHelper.class})
    public class MyConfig{    }   
```

#### xxx Resource

```java
@ImportResource(
用法{
    导入Spring的配置文件 
}    
属性{
    String[] value=location  "classpath:beans.xml"
	reader         
}
)
```



## == properties 配置

### ConfigurationProperties

#### xxx

```java

@ConfigurationProperties(
使用:{
    通常要和 @Componet 连用
    可以直接解析 properties 中的键值对，不用指定文件，依靠前缀区分       
}
属性：{
    prefix = value  前缀
		prefix = "jdbc"  // jdbc.name       
	        
}    

)
例子    
    @ConfigurationProperties(prefix = "jdbc")   
    public class JdbcProperties {       
        private String url;        
        ......    
    }        
解释    
    // application.properties，这是Spring Boot默认读取的属性文件名：    
    prefix="jdbc" 读取属性文件中，前缀为jdbc的值。    
    在类上定义各个属性，名称必须与属性文件中 jdbc. 后面部分一致
    

```

#### EnableXXX

```java
// ============

@EnableConfigurationProperties(
介绍:{
    使用在 properties 文件中
	来声明要使用 JdbcProperties 这个类的对象        
    配合使用  
        @EnableConfigurationProperties 用在配置类上
        @ConfigurationProperties 使用在被配置类上
        
}
属性：{
    Class[] value  要装配进来的类。
        Car.class
}    
)

例子
@Componnent    
@ConfigurationProperties(prefix="user")   
Class User{}  

// 开启 User 绑定， 把 User 这个组件自动注册到容器中
@EnableConfigurationProperties(User.class)
Class MyConfig{}
    
```

