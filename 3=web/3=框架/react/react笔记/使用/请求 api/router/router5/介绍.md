## spa -- 单页面富应用

```java
1)  单页Web应用（single page web application，SPA）
2)	整个应用只有一个完整的页面
3)	点击页面中的链接不会刷新页面, 本身也不会向服务器发请求
4)	当点击路由链接时, 只会做页面的局部更新
5)	数据都需要通过ajax请求获取, 并在前端异步展现
```

## 路由

### 介绍

```java
介绍
    一个路由就是一个映射关系(key:value)
    key为路由路径, value可能是function/component
    
分类
    后台路由
    前台路由
```



### 后端路由

```java
介绍
    node服务器端路由, value是function, 用来处理客户端提交的请求并返回一个响应数据
    
    
    a.注册路由: router.get(path, function(req, res))
    当node接收到一个请求时, 根据请求路径找到匹配的路由, 调用路由中的函数来处理请求, 返回响应数据    
    app.get(
		"/user/login",   // 请求的路径
    	 function(req, res) {   // 就交给 这个 function 进行处理
             const {q} = req.query
             axios ({
                 url: ...
             }).then(response => {
                 res.json(response.data)
             })
         }
	)
    
```

### 前端路由

```java
介绍
    流览器端路由, value是component, 
	当请求的是路由path时, 浏览器端前没有发送http请求, 但界面会更新显示对应的组件 
        
	a.注册路由: <Route path="/about" component={About}>
	当浏览器的hash变为#about时, 当前路由组件就会变为About组件        
```

## 前端路由

### 底层实现

```js
// 依靠 history 实现路由的 
1)history库
 	网址: https://github.com/ReactTraining/history
    b.管理浏览器会话历史(history)的工具库
    c.包装的是原生BOM中window.history和window.location.hash

相关 api
    a.History.createBrowserHistory(): 得到封装window.history的管理对象
    b.History.createHashHistory(): 得到封装window.location.hash的管理对象
    c.history.push(): 添加一个新的历史记录
    d.history.replace(): 用一个新的历史记录替换当前的记录
    e.history.goBack(): 回退到上一个历史记录
    f.history.goForword(): 前进到下一个历史记录
    g.history.listen(function(location){}): 监视历史记录的变化
```

### 实现实例

```html
<body>
  <p><input type="text"></p>
  <a href="/test1" onclick="return push('/test1')">test1</a><br><br>
  <button onClick="push('/test2')">push test2</button><br><br>
  <button onClick="back()">回退</button><br><br>
  <button onClick="forword()">前进</button><br><br>
  <button onClick="replace('/test3')">replace test3</button><br><br>

  <script type="text/javascript" src="https://cdn.bootcss.com/history/4.7.2/history.js"></script>
  <script type="text/javascript">
    let history = History.createBrowserHistory() // 方式一
    // history = History.createHashHistory() // 方式二
    // console.log(history)

    function push (to) {
      history.push(to)
      return false
    }

    function back() {
      history.goBack()
    }

    function forword() {
      history.goForward()
    }

    function replace (to) {
      history.replace(to)
    }

    history.listen((location) => {
      console.log('请求路由路径变化了', location)
    })
  </script>
</body>
```





## router -  router - dom

### 介绍

```java
1. reactor 的一个插件库（web native any)
2. 实现单页面富应用    
```

