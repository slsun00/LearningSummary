

## 动态语言

```js
JavaScript 是动态类型的语言
变量没有类型限制，可以随时赋予任何值
相同的变量可以用在不同的类型
    var x;				// x 为 undefined
    var x = 5;			// x 此时为 number
    var x = "ss";		// x 此时为 string

JavaScript 是一种弱类型语言，变量类型的规范比较松散
	类型分类不严谨、不明确、带来使用的随意性
	变量声明不要求指定类型
	使用过程不严格，可以根据需要自动转换变量类型
	变量的转换和类型检查没有一套统一、规范的方法，导致开发效率低
```



## 介绍

* 变量相当于容器
  
  * 变量名 ： 容器上的标签
  * 变量值 ： 容器内的内容
  * 通过标签可以找到变量，以便读写它存储的值

## 变量命名

```js 
标识符命名
```



## 类型

```js
参看 js 数据结构
	变量类型
    	值类型 引用类型
	数据类型
    	基本类型 对象类型
```

## 声明-赋值

### 声明标识符

```js
var

// 推荐使用 let 
let
	介绍
    	es6 中 let 代替 var 声明变量，就可以吧变量限制在当前的代码块中
     例子
     	let a = 111;
```



### 方式

```js
声明
	非对象
        var variable;
   	对象
    	var variable = new Type()
先声明后赋值		
	标准形式 , 显示声明
	//指定变量类型，声明后不赋值，使用默认值
    var a 
    a = 22

声明的时赋值
	显式地标明变量的类型，在多变量同时声明时可以用到
     var a = "lili";


// -----------------------
索引类型
	1. 根据省略长度，进行推倒(见数组)
	2. 赋值填充
		1. 键值对填充(根据索引键值对确定)
        2. 值列表
        3. 访问字段名填充
```



### 默认值

```js
变量零值
    未赋值的变量初始化为 undefined（未定义）值
```

### 单变量声明

```js
// 先声明后赋值
	var userName;
    var userName = "lili";
```



### 批量声明

```js
    var person , carName;
    var person="lili" , carName="meidi";
```

### 重复声明

```js
一个变量声明后，再次声明为没有赋值的，值不会丢
var carName = "233";
var carName ;    // carName 的值仍旧是 233

一个变量声明多次，并赋值不同的值，值会更新
var a = 1 ;
var a = 2 ;  // 变量 a 就是 2
```

### 建议规则

```js
1. 尽量不要声明变量就赋值， 要先声明，后赋值
2. 解释器能够自动隐式声明，作为全局变量使用
3. 数值不用引号，使用了，会默认为文本
4. 变量声明如果不使用 var 关键字，即使在函数内部定义，他也是局部变量

使用
    先声明 后读写
    先赋值 后运算
```

## 作用域(scop)

* 分类
  
  * 全局变量 local variable
  * 局部变量 global variable

### 全局作用域、全局变量

```js
1. 在直接编写 script 标签的 JS 代码中，都在全局作用域
2. 全局作用域中有一个全局对象 window ,表示一个浏览器窗口，由浏览器创建，可以直接使用
	全局作用域中
    	创建的变量都会作为 window 对象的属性保存   ：全局变量
        创建的函数都会作为 window 对象的方法保存   ： 全局函数
        
// 全局变量
        
1. 函数体外 	    ： var 的变量   <script> 标签中使用 var 声明的
2. 函数体内  		： 没有使用 var 声明的变量，隐式全局变量

2. 直接在全局对象上 
	创建的变量都会作为 window 对象的属性值保存
    创建的函数都会作为 window 对象的方法存储
    
	f = "value";
	window.f = "value"   // web 浏览器中，全局作用域对象为 window

// 调用
    在任何位置进行调用
    在整个页面中课件，可以被自由访问
    
// 声明周期
    在网页打开时创建，除非被显示删除，否则一直存在，直到页面被关闭
```



```js

```

### 函数作用域、局部变量

```js
函数作用域
	调用函数时创建函数作用域，函数执行完毕，函数作用域销毁
    每调用一个函数就会创建一个函数作用域，他们之间相互独立


类型
    函数体内  ： var 指定的变量
    函数的    ： 参数
调用
    函数体内调用
   1. 函数作用域中的可以访问全局作用域的变量 ， 不能反过来
    	在函数内部调用一个变量，会逐级向上
   2. 调用全局变量。可以使用  window.变量名

生命周期
    自变量声明起到函数运行完毕，运行完毕就会删除

特性
    是调用对象的属性
    在函数体内使用全局变量是一种危险行为，因为优先级不同被覆盖
    
// 注意
1. 函数内没有声明变量（没有使用 var ）,该变量被设置为全局变量
  	function f(){
          carName = "222";  // 全局变量
      }
```

### 优先级

```js
同名的参数
    局部变量  > 参数变量 > 全局变量 > window 对象的变量或函数
    
// 形参相当于声明变量
1. 函数内部定义的变量，会在该作用域会覆盖同名全局变量
```

###  变量污染 - 原型对象

```js
变量污染 
	全局变量在全局作用域内可见，有污染性

避免
1. 脚本中创建一个全局变量，作为当前应用的唯一接口，
	然后通过对象直接量的形式包含所有应用程序变量
var MApp = {}				// 定义App访问接口
MyApp.name = {"id":"应用程序"} // App 配置信息
MyApp.worker={				 // App 配置信息
	num:123, // 计数器属性
    sub:{name:"sub_id"}      // App应用分支
}





2. 使用函数体封装应用程序，
(function(window) {
    var MApp = {}				// 定义App访问接口
    MyApp.name = {"id":"应用程序"}; // App 配置信息
    MyApp.worker={				 // App 配置信息
        num:123, // 计数器属性
        sub:{name:"sub_id"}      // App应用分支
	};
    window.MyApp;  // 对外开发应用程序接口
})(window)	
```

### 变量提升

```js
变量提升 Hoisting
    先解析代码，获取所有被声明的变量，再一行一行运行，这样声明的变量都会提升到代码的头部
    1. 预编译期  ：先处理声明的变量
    2.  执行期   ： 赋值操作
    
变量声明的提起
	使用 var 关键字声明的变量，会在所有代码之前被声明,没有用 var 的则不被提前
    console.log(a)
	var a = 123;
	等价于
    var a;
	console.log(a)
	a= 123


// js 中是先声明后赋值，即先编译后操作
函数声明提前
	函数声明形式创建的函数 function 函数(){} 会在所有的代码执行在被创建，但是没有赋值
    
函数内部 var 函数内部 var 声明的变量
	不管在什么位置，变量声明都会被提升到函数体头部
    

```



### HTML 中的全局变量

```js
在 HTML 中。全局变量是 window 对象，所有数据变量都属于 window 对象
```



## 内存管理

*   内存声明周期
    *   分配小内存空间，得到它的使用权
    *   存储数据，可以反复进行操作
    *   释放小内存空间
*   释放内存
    *   对象     ： 设置 null 释放 ，随后由垃圾回收器回收
    *   局部变量  ： 在函数结束自动释放
    *   

### 回收机制(GC)

```js
垃圾
	当一个对象没有任何的对象或属性进行引用，我们将无法操作该对象
    	var obj = new Object();
    	obj = null;   //  obj 无法使用，占用内存
回收机制
	js 中有在自动回收机制，会自动从内存中销毁，也不需要进行垃圾回收操作
    我们要做的就是把对象设置为 null 即可，一段时间即可自动清理

1. 标记清除

2. 引用计数
```



## this

*   是什么

    ```js
    // 函数本质上都是通过某个对象来进行调用的，没有指定默认就是 window
    函数内部都有一个变量 this
    	this 为调用函数的当前对象
    ```

    




## Null

```js
可以将变量的值设置为 null 来清空变量
person = null;
```

