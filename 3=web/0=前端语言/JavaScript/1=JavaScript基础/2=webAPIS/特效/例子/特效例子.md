## 获取鼠标在盒子内的坐标

```js
介绍
	获取鼠标在页面中的坐标（e.pageX, e.pageY）
	获取盒子在页面中的坐标（box.offsetLeft, box.offsetTop）
	鼠标距离页面的坐标 - 盒子距离页面的坐标 = 鼠标在盒子中的坐标
		<script type="text/javascript">
			var box = document.querySelector('.box')
			box.addEventListener('click', function(e){
				var x = e.pageX - box.offsetLeft
				var y = e.pageY - box.offsetTop
			})
		</script>
```

## 拖动模态框

```js
		<script type="text/javascript">
			var login = document.querySelector('.login')
			var mask = document.querySelector('.login-bg')
			var link = document.querySelector('#link')
			var closeBtn = document.querySelector('#closeBtn')
			var title = document.querySelector('#title')  // 模态框
			
			link.addEventListener('click', function(){
				mask.style.display = 'block'
				login.style.display = 'block'
			})
			closeBtn.addEventListener('click', function(){
				mask.style.display = 'none'
				login.style.display = 'none'
			})
			
			// 拖拽效果 鼠标按下、 移动、 松开
			// 鼠标坐标 - 鼠标在盒子内的坐标 = 模态框的位置
			
			title.addEventListener('mousedown', function(e){
				var x = e.pageX - login.offsetLeft;
				var y = e.pageY - login.offsetTop;
				// 鼠标按下后移动
				document.addEventListener('mousemove', move)
				function move(e){
					login.style.left = e.pageX - x + 'px'
					login.style.top = e.pageY - y + 'px'
				}
				// 鼠标弹起， 就让鼠标移动事件移除
				document.addEventListener('mouseup', function(){
					document.removeEventListener('mousemove',move)
				})
			})
		</script>
```



## 京东放大镜

```js
介绍
	使用一个遮罩，进行放大显示， 遮罩改成半透明的 
    再设置一个大的框， 再设置一个框，放置当大的图片， 注意提升等级
    
```

## 淘宝固定侧边栏

```js
介绍
	原先侧边栏是绝对定位
    当页面滚动到一定位置， 侧边栏改为固定定位
    页面继续滚动， 会显示出返回顶部
语法例子
		<script type="text/javascript">
			var sliderbar = document.querySelector('.slider-bar')
			var banner = document.querySelector('.banner')
			// 被卷去头部的大小， 一定要写到滚动的外面
			var bannerTop = sliderbar.offsetTop
			
			// 侧边栏固定之后应该变化的值
			var sliderbarTop = sliderbar.offsetTop - bannerTop
			
			// 获取 main 主体元素
			var main = document.querySelector('.main')
			var goBack = document.querySelector('.goback')
			var mainTop = main.offsetTop 
			
			document.addEventListener('scroll', function(){
				if (window.pageYOffset > bannerTop) {
					sliderbar.style.position = 'fixed';
					sliderbar.style.top = sliderbar + 'px';
				} else {
					sliderbar.style.position = 'absolute';
					sliderbar.style.top = 300px;
				}
				
				// 当页面滚动到 main 盒子， 就显示 goback 模块
				if (window.pageYOffset > mainTop) {
					goBack.style.position = 'block';
				} else {
					goBack.style.position = 'none';
				}
			})
		</script>
```

