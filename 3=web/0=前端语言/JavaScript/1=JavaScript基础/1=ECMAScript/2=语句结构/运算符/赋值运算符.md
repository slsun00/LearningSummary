## 解构赋值(es6)



### 介绍

```js
概述
	*   一种 Javascript 表达式
    *   **解构赋值,** 可以将属性/值从对象/数组中取出,赋值给其他变量。
    *   对象 、数组

变量的解析构值
	从对象或数组中提取数据，并赋值给变量(多个)
	允许我们按照一一对应的关系从数组中提取值，然后将值赋值给变量
对象
	let {n,a} = {n:'tom',a:12}
数组
	let [a,b] = [1,abc]
用途
	给多个形参赋值
```



### 语法

*   语法

    ```js
    // 左边定义了原变量中取出什么变量
    // 对象和数组逐个对应表达式，或称对象字面量和数组字面量，提供了一种简单的定义一个特定的数据组的方法。
    var x = [1, 2, 3, 4, 5];
    var [y, z] = x;  // y=1 z=2
    ```

    

### 解构数组

```js
左边变量
声明
    var foo = ["one", "two", "three"]
    // 变量声明并赋值时的解构
    var [one, two, three] = foo;
	// 变量先声明后赋值时的解构
	var one, two, three
    [one, two, three] = foo;
默认值设置
	// 防止从数组中取出一个值为undefined的对象
	var a, b;
	[a=5, b=7] = [1]; // a=1 b=7
忽略解构
	// 将对应位置的字面量空置出来就行
	var [one, , three] = foo;
	// 忽略全部
	var [ , , ] = foo;
合并解构
	// 合并的字面量必须要在最后
	//  剩余模式，将数组剩余部分赋值给最后一个变量。
	// one=one  two=["two", "three"]
	 var [one, ...two] = foo;
```



### 解构对象

```js
注意
	对象解构左边的字面量默认是要和右边的对象的 属性相同

声明赋值
	var o = {p: 42, q: true};
	// 变量声明并赋值时的解构
	var {p, q} = o;
	// 变量先声明后赋值时的解构
	// 注意这个里面的 括号不能丢，否则左边的就被认为一个块，而不是对象字面量
	var p, q;
	({p, q} = o;)
	// 异名解构	
	// 从一个对象中提取变量并赋值给和对象属性名不同的新的变量名
	var {p: foo, q: bar} = o;  // foo=42

默认自设置
	// 变量可以先赋予默认值。当要提取的对象没有对应的属性，变量就被赋予默认值。
	// 预防未解构的值是 undefined。
	var {a = 10, b = 5} = {a: 3};  // a=10 b=5
	// 异名解构	
	var {p: foo=32, q: bar} = o;  // foo=42

原型链查找
	// 解构对象时会查找原型链（如果属性不在对象自身，将从原型链中查找）
	// 声明对象 和 自身 self 属性
    var obj = {self: '123'};
    // 在原型链中定义一个属性 prot
    obj.__proto__.prot = '456';
    // test
    const {self, prot} = obj;
    // self "123"
    // prot "456"（访问到了原型链）
```



