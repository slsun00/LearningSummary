## 特点

*   单线程

    ```js
    Node的服务器单线程的
    	Node处理请求时是单线程，但是在后台拥有一个I/O线程池
    传统的服务器都是多线程的
    	 每进来一个请求，就创建一个线程去处理请求
    ```

    

*   非阻塞、异步 I/O

    ```js
    I/O (Input/Output)
    	- I/O操作指的是对磁盘的读写操作
    ```

    

*   事件驱动、回调函数

    ```js
    Node是对ES标准一个实现，Node也是一个JS引擎
    	通过Node可以使js代码在服务器端执行
    	Node仅仅对ES标准进行了实现，所以在Node中不包含DOM 和 BOM	
    	Node中可以使用所有的内建对象
        	可以使用
    			String Number Boolean Math Date RegExp Function Object Array
            不可以使用
    			BOM和DOM都不能使用 , 但是可以使用 console 也可以使用定时器（setTimeout() setInterval()）
    ```

*   跨平台

## 全局变量

```js
node 有一个默认的全局对象 global , 它的作用和网页中 window 相似
	全局中创建的变量都会作为 global 的属性保存
     全局中创建的方法都会作为 global 的方法保存
```

## 执行

```js
node 文件名
```









## 模块

### 原因

```js
ES5中没有原生支持模块化，我们只能通过script标签引入js文件来实现模块化
	在node中为了对模块管理，引入了CommonJS规范
node 中
```

### 定义

```js
// 暴露方法属性
在node中一个js文件就是一个模块
     1. 默认情况下在js文件中编写的代码，都是运行在一个独立的函数中，
     2. 而不是全局作用域，所以模块中的变量和函数，外部的模块无法访问
     
     
// 源文件导出变量和函数
// 在被调用的源文件中应该设置如下(a 调用 b 中的函数或者方法)

     
exports（值引用）
	只能使用 . 的方式来向外部暴露内部变量
    例子：
        exports.属性 = 属性值;
        exports.方法 = 函数;

module.exports（地址引用）
	使用 . 或者直接赋值 
    例子：
        module.exports.属性 = 属性值;
        module.exports.方法 = 函数;
        module.exports = {};  // 直接使用
```

### 引用

```js
使用 require()函数来引入外部模块,引入后会返回一个对象，这个对象就是引入的模块
	例子：
		var 变量 = require("模块的标识"); 
		// 变量就表示引入的模块，是一个字典，掐面，前面导出的属性、方法作为key
		console.log(变量.x)              // 调用模块中的变量、函数

// 模块标识
含义
	模块的标识就是模块的名字或路径
功能
    我们node通过模块的标识来寻找模块的
    
类型
	核心模块
    	由 node 引擎提供的模块 , 直接使用模块的名字对其进行引入
            var fs = require("fs");
    文件模块
    	用户自定义的模块， 标识就是文件路径 ：绝对路径、相对路径(必须以./或 ../开头)
 		 require("./route.js")
```

![image-20201210162445679](image-20201210162445679.png)

### 原理

```js
node 在执行模块中的代码的时候，它会添加
最顶部 ： function (exports,require,module,__filename,__dirname){
最底部 ： }
实质   ： 模块中的代码都是包装在一个函数中执行，并在在函数执行的时候，同时传递了5个实参

exports     该对象用来将变量或函数宝楼道外部
require	    函数 ，用来引入外部的模块
module		
	- module  代表当前模板本身
    - exports  其实就是 module 的属性
__filename
	当前模块的路径
__dirname
	当前模块所以在文件夹的路径
```











































## 包

### 介绍

```js
- 包（package）
    - 将多个模块组合为一个完整的功能，就是一个包
	其实就是多个模块文件放到一个文件夹中，那这个文件夹就叫一个包
```



### 结构

```js
// 基础结构
- 包结构
    bin  (binarry)
        - 二进制的可执行文件，一般都是一些工具包中才有
    lib  （library）
        - js文件
    doc	  (document)
        - 文档
    test	
        - 测试代码
    package.json
        - 包的描述文件
// 必有的
    - package.json	
        - 它是一个json格式的文件，在它里面保存了包各种相关的信息
        name 包名
        version 版本
        dependencies 依赖
        main 包的主要的文件
        bin 可执行文件
```

### 搜索包流程

```js
nmp 下载在 node_modules 中，直接通过包名引入即可
	当前目录的node_modules中寻找是否含有该模块，有就用，没有就去上一层目录中的node_modules中寻找 
 	继续向上同样查找，直到找到为止
    如果找到磁盘的根目录，如果依然没有，则报错
```





































