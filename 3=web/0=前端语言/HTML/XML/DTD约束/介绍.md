

## 需要总结

```java
https://www.cnblogs.com/lm970585581/p/7699555.html
```



## 介绍

```xml
概述
	一个或多个XML文件的模板，
	这些XML文件中的元素、元素的属性、元素的排列方式/顺序、元素能够包含的内容等，都必须符合DTD中的定义
	 DTD（文档类型定义）的作用是定义 XML 文档的合法构建模块。
	它使用一系列的合法元素来定义文档结构。
分类
	外部 DTD
		在XML文件中调用另外已经编辑好的DTD
	内部 DTD
		在XML文件中直接设定DTD
```



## 优势

* 通过 DTD，您的每一个 XML 文件均可携带一个有关其自身格式的描述。
* 通过 DTD，独立的团体可一致地使用某个标准的 DTD 来交换数据。
* 而您的应用程序也可使用某个标准的 DTD 来验证从外部接收到的数据。
* 您还可以使用 DTD 来验证您自身的数据。

## 内部 DTD

### 语法

```xml
<!-- <!DOCTYPE 根元素 [元素声明]>  -->
〈!DOCTYPE element-name[........ 

]〉 

解析
	〈!DOCTYPE
    	表示开始设定DTD，注意DOCUTYPE是大写
    
    Element-name 
    	指定此DTD的根元素的名称，一个XML文件只能有一个根元素。
    	注意，如果 XML文件使用了DTD，那么文件中的根元素就在这里指定。
    [.........]〉 
    	[ ]	标记里面定义XML文件使用元素，
    	〉	结束DTD的定义。 



```

### 例子

```java
<?xml version="1.0"?>
<!DOCTYPE note [				// 定义此文档是 note 类型的文档。
  <!ELEMENT note (to,from,heading,body)> // 定义 note 元素有四个元素："to、from、heading,、body"
  <!ELEMENT to      (#PCDATA)>	// to 元素为 "#PCDATA" 类型
  <!ELEMENT from    (#PCDATA)>	//  from 元素为 "#PCDATA" 类型
  <!ELEMENT heading (#PCDATA)>	//  heading 元素为 "#PCDATA" 类型
  <!ELEMENT body    (#PCDATA)>	//  body 元素为 "#PCDATA" 类型
]>

<note>
  <to>George</to>
  <from>John</from>
  <heading>Reminder</heading>
  <body>Don't forget the meeting!</body>
</note>
```

## 外部 DTD

### 语法

```xml
介绍
	 DTD 位于 XML 源文件的外部，那么它应通过下面的语法被封装在一个 DOCTYPE 定义
语法
	<!DOCTYPE 根元素 SYSTEM "文件名">
```

### 例子

```xml
<?xml version="1.0"?>
<!DOCTYPE note SYSTEM "note.dtd">
<note>
<to>George</to>
<from>John</from>
<heading>Reminder</heading>
<body>Don't forget the meeting!</body>
</note>

<!--note.tdt文件-->
<!ELEMENT note (to,from,heading,body)>
<!ELEMENT to (#PCDATA)>
<!ELEMENT from (#PCDATA)>
<!ELEMENT heading (#PCDATA)>
<!ELEMENT body (#PCDATA)>
```

## 模块构成

### 介绍

```java
所有的 XML 文档（以及 HTML 文档）均由以下简单的构建模块构成：
    元素
    属性
    实体
    PCDATA
    CDATA 
```



### 元素

#### 介绍

```xml
<!ELEMENT 元素名称 元素类型>
<!ELEMENT 元素名称 (元素内容)>
元素类型
	EMPTY：用于指示元素的主体为空。比如<br/>
	ANY:用于指示元素的主体内容为任意类型。
元素内容
	(#PCDATA):指示元素的主体内容只能是普通的文本.(Parsed Character Data)
	(子元素)：指示元素中包含的子元素
```

#### 单标签(无内容)

```java
// 空元素
	<!ELEMENT 元素名称 EMPTY>
// 带有任何内容的元素,可包含任何可解析数据的组合
	<!ELEMENT 元素名称 ANY>   
// 多个元素   


  
// 带有子元素，子元素可以有多个
	<!ELEMENT 元素名称 (子元素名称)>       
```

#### 双标签(有内容)

```java
注意
    以下内容可以进行嵌套
// 	只有 PCDATA 的元素
	<!ELEMENT 元素名称 (#PCDATA)>
// 按照此顺序出现        
    <!ELEMENT 元素名称 (子元素1，子元素2，子元素3)>
// 只能出现其中的一个	
	<!ELEMENT 元素名称 (子元素1|子元素2|子元素3)>  
// =1 ; 必须出现一次
	<!ELEMENT 元素名称 (子元素名称)>
// >=1 ; 最少出现一次的元素
	<!ELEMENT 元素名称 (子元素名称+)>
// >= 0  ; 零次或多次的元素 
	<!ELEMENT 元素名称 (子元素名称*)>
// <= 0 ; 零次或一次的元素
	<!ELEMENT 元素名称 (子元素名称?)>        	
```



### 属性

#### 介绍

```java
介绍
    元素名称：  标签名
语法
    <!ATTLIST 元素名称 
    	属性名称1 	属性类型 	默认值	
    	属性名称2 	属性类型 	默认值	
    >

```

#### 属性类型

```java
CDATA 				值为字符数据 (character data)
(en1|en2|..) 	     此值是枚举列表中的一个值
ID 					唯一的 id
IDREF 				另外一个元素的 id
IDREFS 				其他 id 的列表
NMTOKEN 			合法的 XML 名称
NMTOKENS 			合法的 XML 名称的列表
ENTITY 				一个实体
ENTITIES 			一个实体列表
NOTATION 			是符号的名称
xml: 				是一个预定义的 XML 值
```

#### 默认值说明

```java
(1)#REQUIRED：
    	必须设置；
(2)#IMPLED：可选值，
    	表示该属性可有可无；
(3)#FIXED：固定值，
    	通常语法为：#FIXED  "固定值"
(4)直接值：默认值
    	表示属性必须取该值
```



#### 例子

```java
例子
    // DTD 实例
    <!ATTLIST payment type CDATA "check">
    // XML
    <payment type="check" />
    
// #IMPLIED
<!ATTLIST contact 
    fax CDATA #IMPLIED> 
    // xml
    <!ATTLIST contact fax CDATA #IMPLIED> 
    <contact />    
    
// REQUIRED    
<!ATTLIST person 
    number CDATA #REQUIRED> 
    // xml
    <person number="5677" />

//  #FIXED   
<!ATTLIST sender 
    company CDATA #FIXED "Microsoft">    
```



### 实体

```java
介绍
    定义普通文本的变量。实体引用是对实体的引用。
    用于定义引用普通文本或特殊字符的快捷方式的变量。
位置
    是对实体的引用
    可在内部或外部进行声明
语法格式

```

#### 内部实体

```java
语法
    <!ENTITY 实体名称 "实体的值">
语法
    <!ENTITY writer "Bill Gates">
	<!ENTITY copyright "Copyright W3School.com.cn">	
    // xml
    // 一个实体由三部分构成: 一个和号 (&), 一个实体名称, 以及一个分号 (;)
    <author>&writer;&copyright;</author>
```

#### 外部实体

```java
语法
    <!ENTITY 实体名称 SYSTEM "URI/URL">
例子
    <!ENTITY writer SYSTEM "http://www.w3school.com.cn/dtd/entities.dtd">
	<!ENTITY copyright SYSTEM "http://www.w3school.com.cn/dtd/entities.dtd">
    // xml
    <author>&writer;&copyright;</author>
```

### PCDATA

```java
介绍
    // p c data
    被解析的字符数据（parsed character data）
    可把字符数据想象为 XML 元素的开始标签与结束标签之间的文本。
注意
    被解析的字符数据不应当包含任何 &、< 或者 > 字符；需要使用 &amp;、&lt; 以及 &gt; 实体来分别替换它们。
```



### CDATA

```java
介绍
    // c data
    字符数据（character data）。
    不会被解析器解析的文本。在这些文本中的标签不会被当作标记来对待，其中的实体也不会被展开。
```

