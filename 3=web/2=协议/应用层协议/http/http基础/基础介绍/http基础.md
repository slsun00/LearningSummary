## 介绍

* HTTP超文本传输协议 

* HTTP-Hypertext transfer protocol 

    ```js
    protocol：
    	首先这是一个协议，是个约定，确定计算机交流的通信规范以及各种控制和错误处理方式。
    transfer
    	这是一个传输协议，其基于TCP或者UDP，将信息从一个地方传送到另外一个地方。并且传送过程中允许代理。
    hyper text
    	超文本，传送包括文本，音频，视频等。
    ```

* 是一个基于TCP/IP通信协议来传递数据（HTML 文件, 图片文件, 查询结果等）

* 适用于分布式超媒体信息系统。 

*    它是一种详细规定了浏览器和万维网服务器之间互相通信的规则，通过因特网传送万维网文档的数据传送协议。 

## 功能

*   一个通信规则，规定了客户端和服务器之间的报文格式发展
*   工作于客户端-服务端架构上。
    *   浏览器作为HTTP客户端
    *   通过URL向 HTTP服务端 即WEB服务器发送所有请求。

*   http : 
*   https : 

## 特点

* 是可扩展的
    * 不同于SNMP等协议，HTTP的协议头除了公共约束，是可以扩展的，所以后面才产生若干优化。
* 可靠的
    * 都是基于TCP的，
    * 而HTTP/3虽然是基于UDP，但是实际上是在UDP上层，把TCP的控制等专门提取出一个协议，然后在这个协议上开发HTTP/3，所以说HTTP/3也是可靠的。
* 传输任意内容
    * 如上所述，可以封装其它协议，如果SOAP，这是SOA架构的基础。

-   HTTP是无连接：
    -   无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。
-   HTTP是媒体独立的：
    -   这意味着，只要客户端和服务器知道如何处理的数据内容，任何类型的数据都可以通过HTTP发送。客户端以及服务器指定使用适合的MIME-type内容类型。
-   HTTP是无状态：
    -   HTTP协议是无状态协议。
    -   无状态是指协议对于事务处理没有记忆能力。
    -   缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。
    -   无状态不代表HTTP不能保持TCP连接，更不能代表HTTP使用的是UDP协议（面对无连接）
    -   每个请求都毫无关联，为了实现会话等，所以有cookie

## 演变

```js
HTTP并不是一个静止的协议，而是一个不断演化的协议，正式因为生命力强，所以才不断演化
http1. HTTP从一开始比较简单的原型，到各种优化，例如说长连接、cookie等优化，最终写入rfc，标志了HTTP被世界认可，
https. 为了解决安全问题，在tcp和http层之间增加了一个中间层，SSL/TLS，解决加密解密的安全问题。这是HTTPS
http2. 为了解决HTTP/1的排队阻塞问题，以及安全等问题，google利用自身的巨大优势，将自身的方案提案为HTTP/2
http3. 还是google，提出并利用UDP作为传输层协议，这就是HTTP/3
```

![image-20210125014126444](../image-20210125014126444.png)

## 会话方式

*   浏览器和服务器之间的通信过程要经历四个步骤

    ![1598444466336](1598444466336.png)

## 消息体

```go
// 这个首先想到的
	服务端  ： 响应信息
			
	客户端   ：请求信息
		html 表单信息

HTTP使用统一资源标识符（Uniform Resource Identifiers, URI）来传输数据和建立连接。
```



## 版本区别

*   http1.0
    *   浏览器请求一个带有图片的网页，会由于下载图片而与服务器之间开启一个新的连接 
*   http1.1
    *    允许浏览器在拿到当前请求对应的全部资源后再断开连接，提高了效率。 
*   http2.0



## HTTP内容类型

### 介绍

*    当前响应体的数据类型。 

*    要指出的是在浏览器和服务器之间传输的数据类型并非都是文本类型，还包括图片、视频、音频等多媒体类型。这些多媒体类型是使用MIME类型定义的。

### MIME

*   Multipurpose Internet Mail Extensions
*    多功能Internet 邮件扩充服务 
*    MIME类型的格式是“大类型/小类型”，并与某一种文件的扩展名相对应 
*    http 协议中数据类型

### 常见的MIME 类型

| 文件                | MIME类型                             |
| ------------------- | ------------------------------------ |
| 超文本标记语言文本1 | .html  .html text/html               |
| 普通文本            | .txt text/plain                      |
| RTF 文本            | .rtf application/rtf                 |
| GIF 图形            | .gif image/gif                       |
| JPEG 图形           | .jpeg , .jpg image/jpeg              |
| au 声音文件         | .au audio/basic                      |
| MIDI 音乐文件       | mid, .midi audio/nidi , audio/x-midi |
| RealAudio 音乐文件  | :ra , .ram audio/x-pn-realaudio      |
| MPEG 文件           | .mpg , .mpeg video/mpeg              |
| AVI 文件            | .avi video/x-msvideo                 |
| GZIP 文件           | .gz application/x-gzip               |
| TAR 文件            | .tar application/x-tar               |
|                     |                                      |



```go
客户端
	发送请求
服务器
	发送响应
```



## 零星整理

```go
无状态是指协议对于事务处理没有记忆能力，服务器不知道客户端是什么状态。从另一方面讲，打开一个服务器上的网页和你之前打开这个服务器上的网页之间没有任何联系。

HTTP是一个无状态的面向连接的协议，无状态不代表HTTP不能保持TCP连接，更不能代表HTTP使用的是UDP协议（面对无连接）。

从HTTP/1.1起，默认都开启了Keep-Alive保持连接特性，简单地说，当一个网页打开完成后，客户端和服务器之间用于传输HTTP数据的TCP连接不会关闭，如果客户端再次访问这个服务器上的网页，会继续使用这一条已经建立的TCP连接。

Keep-Alive不会永久保持连接，它有一个保持时间，可以在不同服务器软件（如Apache）中设置这个时间。
```



## 参考

```go
1. https://blog.csdn.net/tdcqzd/article/details/82053175#comments_12543588
2. 尚硅谷玩转 JAVA
```



















































































































































