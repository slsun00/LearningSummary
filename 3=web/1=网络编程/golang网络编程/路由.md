

## 网络中路由

*   路由提供两种机制

    *   路由 ： 决定数据包来源到目的地的路径
    *   传送  ：将输入端的数据局转移到合适的输出端

*   路由表

    ```js
    1. 本质是一个映射表，决定了数据包的指向
    2. 还有一个 内网ip  ，电脑 ac 地址 ，相互一一对应()
    
    // 个人理解
    这个是核心，就是这个映射表，才实现了不同的请求，选出对应不同的处理，才实现了多路复用
    ```

## web 路由

### 介绍

```css
Angular , react , Vue  三大前端框架都有自己路由的实现

vue-router 是基于路由和组件的
	路由用于设定访问路径，将路径和组件映射起来
    在 vue-router 的单页面应用中，页面的路径的改变就是组件的切换
```



### 发展历程

*   后端路由

    *   服务器直接渲染好对应的 HTML 页面，返回给客户端显示

    *   一个页面有自己对应的网址( 也就是 URL ) ,URL 会发送到服务器，服务器根据正则对该URL进行匹配，并且最后交给一个 Controller  进行处理 ，最后生成 HTMl 或者数据 ，返回给前端，这就完成一次 I/O

    *   即后端处理 URL 和页面之间的映射关系

    *   缺点

        ```js
        1. 整个页面的模块有后端人员来编写和维护
        2. 前端人员如果要开发网页，需要通过 PHP Java 编写页面代码
        3. 通常情况下，HTML 代码和数据以及对应的逻辑混合在一起，维护起来很糟糕
        ```

*   前后端分离阶段

    *   随着  Ajax 出现，有了前后端分离的开发模式

    *   前端渲染 ： 浏览器 显示的网页中的大部分内容 ，都是由前端写的 js 代码在浏览器中执行，并渲染出来

    *   后端只提供API来返回数据，前端通过Ajax获取数据，并且可以通过 JS 将数据渲染到页面上 ，静态资源放在静态资源服务器上

    *   优点

        ```js
        后端专注于数据 ，前端专注于页面交互和可视化上
        当移动端(ios/android)出现后 , 后端不需要任何处理，依然使用之前的API即可
        ```

*   前端路由

    *   单页面富应用阶段  SPA   =  掐后端分离 + 前端路由 （前端维护的一套规则）

        *   整个页面只有一个html 页面

        *   缺点

            ```js
            第一次加载速度比较慢
            ```

    *   前端路由

        *   前端配置管理映射关系
        *   当页面执行一个操作时 ， 浏览器生成一个 URL ，通过 js 代码判断 ，从请求下来的资源 抽离需要显示的东西 ，进行显示

    *   内容

        ```js
        静态资源服务器
        	// html + css + js -->url1
        	// html + css + js -->url2
        	index.html + css + js -->url1
        
        前端
        	把所有的 HTML css js 全部下载下来，但是并不是全部执行
            使用哪个，就抽离哪一个
        后端 
        	只提供 API 服务器
        ```


### 名词名称

*   router : 理解为一个容器，或者说一种机制，它管理了一组 route

*   route  : route 只是进行了URL和函数的映射

    ```js
    golang 中
    	设置路由 ： router（内含多路复用器） 
    	处理器函数 ：route （Controller）
    ```


### 作用

```go
1. 解析 URL(网址) ，调用对应的控制器（方法，并传递参数）(将请求分配到指定的一个端，)
2. 为 http request 中的 path_uri 与执行脚本做绑定（映射）

// 注意
	不仅会根据URL来匹配，还会根据请求的方法来看是否匹配。


// 例子
  /users        ->  getAllUsers()
  当访问 /users 的时候，去路由映射表中查找执行 getAllUsers() 函数 , 这就是一条路由
```

### 路由模式

```js
// 不太懂
	hash: 使用 URL hash 值来作路由。支持所有浏览器，包括不支持 HTML5 History Api 的浏览器。

    history: 依赖 HTML5 History API 和服务器配置。查看 HTML5 History 模式。

    abstract: 支持所有 JavaScript 运行环境，如 Node.js 服务器端。如果发现没有浏览器的 API，路由会自动强制进入这个模式。
```

### 路由参数传递

```js
// 就是修改 url ， 这个是 Vue 中的路由参数传递
传递参数
	params   
    query 动态网页
params 参数类型
	配置路由格式 /router/:id
    传递的方式  在 path 后面上跟上对象的值
    传递后形成路径  /router/abc

query 类型
	配置路由格式 /router 也就是普通配置
    传递的方式  对象中使用query的key 作为传递方式
    传递后形成路径  /router？id=abc
```



## 分类

### 服务端路由

```js
1. 传统模式 
	客户端发送不同请求(URL形式)给服务器 
    URL 对应服务器某个目录下的某个文件
 2. MVC 模式
 	客户端发送不同请求(URL形式)给服务器 
    WEB会截获所有的请求，不做资源存在检查，直接转发给路由程序，
总述 ：
	1. 当接收到客户端发来的HTTP请求，会根据请求的URL，来找到相应的映射函数，然后执行该函数，并将函数的返回值发送给客户端。
    2. 对于静态资源服务器，可以认为，所有URL的映射函数就是一个文件读取操作。
    3. 对于动态资源，映射函数可能是一个数据库读取操作，也可能是进行一些数据的处理，等等。
```

### 客户端路由

```js
通常对浏览器
	路由的映射函数通常是进行一些DOM的显示和隐藏操作
    这样，当访问不同的路径的时候，会显示不同的页面组件
方式
	    基于 Hash  ：URL中 # 及其后面的部分为 hash。
        基于 History API
特点
	1. 基于Hash的路由，兼容性更好；基于History API的路由，更加直观和正式。
    2. 基于Hash的路由不需要对服务器做改动，基于History API的路由需要对服务器做一些改造
    
    
 一些参考
 	  https://developer.mozilla.org/en-US/docs/Web/API/History_API
       https://css-tricks.com/using-the-html5-history-api/
	  history 库 ： https://github.com/ReactTraining/history
```

### 动态路由

*   介绍

    ```js
    配置路由时，一般都是直接配置固定的路径 , 但是路由路径中使用“动态路径参数” ,让路径不再是固定的 ，这样的路由就是动态路由（path不确定）
    
    例子
    	/user/zhangsan 	/user/lisi
    	把这两者映射到相同的路由中 /user/:name   
    ```

    

*   实现方法

    ```js
    // 前端控制路由
    // 后端处理路由
    ```

    

### 严格路由

```go

```



```js

        
        路由器再调用相关的控制器，控制器调用相关的服务（相关处理函数），返回视图对象，路由器再从对象中提取生成好的网页代码返回给 Web 服务器，最后返回客户端
        
        
        

不同的请求地址  ------》  路由处理  ---》对应的控制器处理

1. 当用户发送的请求，无需请求服务器，直接在页面段修改，则使用理由
2. 根据 URL 来将请求分配到指定的一个端，

2. 使用 js 不会更新 URL 
   使用 路由 URL 也是对着改变的，当用户直接赋值或者收藏当前页的 url 给被人，是有好的
3. routie	根据 url 分配到对应的处理程序

MVC 结构中，route 的会将 uri 映射到 controller，具体业务逻辑在 controller 里面进行。



路由器里根据目标IP，找到中间需要经过的路由器路径。
Web里根据网址找到能处理这个URL的程序或模块
```

## 没有整理完全的知识

```js
理解Web路由 - 「已注销」的文章 - 知乎
https://zhuanlan.zhihu.com/p/24814675
```





























































































































































































