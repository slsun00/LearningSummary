## 介绍

* 通过 new 关键字，创建的对象都会存储在 堆内存中

### 特点

* 线程共享， 堆中对象都需要考虑线程安全的问题
* 有垃圾回收机制

## 大小

```java 
更改
    -Xmx8m
```



## 堆内存溢出

### 介绍

```java
问题介绍
    不断产生新对象，而且都在使用，就会导致堆内存溢出
错误
    java.lang.OutofMemoryError: java heap space
出现
    有可能随着时间累积，会造成堆内存溢出
```

### 诊断工具

```java
jps
    查看当前系统中的 java 进程
jmap 
    查看堆内存占用情况
jconsole 工具
    图形界面内的多功能工具， 可以连续监测
jvisualvm
    可视化查看堆内存占用信息
```



### jps 使用

```java
jps  显示进程
jmap -heap 线程id
    heap use 堆占用
```

### 问题案例

```java 
1. 垃圾回收以后， 内存占用仍旧很高
```

