## 介绍

* 通过文件进行数据持久化

## 文件类型

* 文本文件
    * 文件以文本的 ASCII 码存储在计算机中
* 二进制文件
    * 文本以文本的二进制文件存在计算机中，用户一般不能直接读取

## 操作

### 头文件

```c++
头文件
    #include <fstream>
```



### 数据类型

```c++
// 分为三类
ofstream     写操作 , 表示输出文件流，用于创建文件并向文件写入信息。
ifstream     读操作 , 输入文件流，用于从文件读取信息。
fstream      读写操作 , 常表示文件流，它可以创建文件，向文件写入信息，从文件读取信息
```



## 写入文件

```c++
符号
    流插入运算符（ << ）向文件写入信息
    使用的是 ofstream 或 fstream 对象
步骤
    1. 包含头文件  #include <fstream>
    2. 创建流对象  ofstream ofs;
	3. 打开文件   ofs.open("文件路径"，打开方式)
    4. 写数据      ofs << "写入的数据"；
    5. 关闭文件  ofs.close()
```

### 方法

```c++
void open(const char *filename, ios::openmode mode);

文件名名称
    const char *filename
文件打开模式
    // 配合使用   | 符号 ： ios::binary|ios.out  表示以二进制的形式输出
    ios::in 	打开文件用于读取。
    ios::out 	打开文件用于写入。
    ios::binary  以二进制形式操作
    -------------------------------------
    ios::app 	追加模式。所有写入都追加到文件末尾。
    ios::ate 	文件打开后定位到文件末尾
    ios::trunc 	如果该文件已经存在，其内容将在打开文件之前被截断，即把文件长度设为 0。
```



## 读文件

```c++
符号
    流提取运算符（ >> ）从文件读取信息
    像使用该运算符从键盘输入信息一样。使用的是 ifstream 或 fstream 对象
步骤
    1. 包含头文件  #include <fstream>
    2. 创建流对象  ifstream ifs;
	3. 打开文件，并判断是否成功   
        ifs.open("文件路径"，打开方式)
        if (ifs.open) {
            文件打开
        }
    4. 读数据      ifs << "写入的数据"；
    5. 关闭文件  ofs.close()
        
读数据方法
 // 方式一
    char buf[1024] = {0};
	// 读数据
	while (ifs >> buf) {
        cout << "读取完毕"；
    }

// 方式二
	char buf[1024] = {0};
	// 一行一行读取
	 while ( ifs,getline(buf,sizeof(buf))){
         cout << buf;
     }
// 第三种
string buf
while (getline(ifs,buf)) {
    cout << buf;
}

// 第四种
char c;
while ((c = ifs.get()) != EOF) {
    cout << c;
}
```





## 关闭文件

```c++
 C++ 程序终止时，它会自动关闭刷新所有流，释放所有分配的内存，并关闭所有打开的文件。
     但程序员应该养成一个好习惯，在程序终止前关闭所有打开的文件。
   
     
语法
     void close();
使用
    close() 函数是 fstream、ifstream 和 ofstream 对象的一个成员
```

















