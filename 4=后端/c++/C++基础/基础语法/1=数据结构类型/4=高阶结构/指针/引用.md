

# (引用) reference

## 声明引用

```c++
介绍
    // 类似于人的绰号（笔名），使用绰号（笔名）和本名都能表示一个人。
    给变量起别名
    
    
符号
    &  ： 取地址  引用  位运算中的与运算

语法
    数据类型 &别名 = 原名
    int &b = a;  // a b 内存地址一样，不能在更改 b 的内存地址
作用
     比指针更加便捷的传递聚合类型数据的方式
    建议用来替代指针
例子
    int a = 10;
	int &b = a;
	// a =10 b=10
	cout << a << b <<endl;
	b = 100;
	// a =100 b=100
	cout << a << b <<endl;


注意
    引用必须要初始化，就是声明的时候必须赋值
    	int &b; // 是不允许的
	引用一旦初始化后门就不可以更改， 就是 b 代表的内存地址不可更改
        int &b = a ;  // a b 内存地址一样，不能在更改 b 的内存地址
	    int &b = c;  // 不允许
	引用在定义时需要添加&，在使用时不能添加&，使用时添加&表示取地址
    引用不能绑定到临时数据   
```

## const 常量引用

```c++
// 常量引用（const修饰）
介绍
    使用场景 ： 用来修饰形参，防止误操作
    不希望通过引用来修改原始的数据，那么可以在定义时添加 const 限制

语法
    // value 就是固定值了，不允许被修改
    const 数据类型 &name = value;
	数据类型 const &name = value;
例子
    int a = 10 ;
	// int & res = 10  是错误的 ；
	// 编译器会为const引用创建临时变量
	// int temp = 10 ; const int & res = temp;
	const int &res= 10;
	// 注意 ： 加上 const 后变成只读，不可以修改
	// 常量引用， 常量不变，
	res = 10; // 错误
```





## 使用

### 做函数参数

```c++
参看函数--参数
```



### 做函数返回值

```c++
见函数返回值
    注意格式
```



## 本质

```c++
本质
    引用的本质在 c++ 内部的实现是一个指针常量

例子
    int a = 10;
	// 自动转换为 int * const ref = &a  ;
	// 指针常量 ： 指针不可变 ，常量可变(前不变)
	int &b = a;
	cout << a << b <<endl; 	// a =10 b=10

	// 内部发现 b 是引用 ，自动转化为 *b = 100;
	b = 100;
	cout << a << b <<endl; 	// a =100 b=100

原理
    // int a = 10
    开辟一个内存， 内存地址假设为 xx1 , 里面存的值是 10
    // int &b = a;
    将内存地址 xx1 起一个别的名称
    a, b 都可以指向同一个内存地址，想当于一个内存地址有两个名称了

注意
    引用必须要初始化，就是声明的时候必须赋值
    	int &b; // 是不允许的
	引用一旦初始化后门就不可以更改， 就是 b 代表的内存地址不可更改
        int &b = a ;  // a b 内存地址一样，不能在更改 b 的内存地址
	    int &b = c;  // 不允许
```

## 注意

```c++
1. C/C++ 禁止在函数调用时直接传递数组的内容，而是强制传递数组指针
2. 结构体和对象没有这种限制
3. 调用函数时既可以传递指针，也可以直接传递内容
```



